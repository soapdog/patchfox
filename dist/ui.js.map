{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/ui/Navigation.svelte.css","webpack:///./src/ui/Patchfox.svelte.css","webpack:///./src/ui/messageTypes/GenericMsg.svelte.css","webpack:///./src/ui/messageTypes/MessageRenderer.svelte.css","webpack:///./src/ui/messageTypes/PostMsg.svelte.css","webpack:///./src/ui/views/Channels.svelte.css","webpack:///./src/ui/views/Compose.svelte.css","webpack:///./src/ui/views/Settings.svelte.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/decode-uri-component/index.js","webpack:///./node_modules/drag-and-drop-files/ondrop.js","webpack:///./node_modules/query-string/index.js","webpack:///./node_modules/split-on-first/index.js","webpack:///./node_modules/strict-uri-encode/index.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./node_modules/svelte/easing/index.mjs","webpack:///./node_modules/svelte/index.mjs","webpack:///./node_modules/svelte/internal/index.mjs","webpack:///./node_modules/svelte/store/index.mjs","webpack:///./node_modules/svelte/transition/index.mjs","webpack:///./node_modules/timeago-simple/index.js","webpack:///./src/ui/Navigation.svelte","webpack:///./src/ui/Navigation.svelte.css?82a3","webpack:///./src/ui/Patchfox.svelte","webpack:///./src/ui/Patchfox.svelte.css?0bf8","webpack:///./src/ui/abusePrevention.js","webpack:///./src/ui/main.js","webpack:///./src/ui/messageTypes/AboutMsg.svelte","webpack:///./src/ui/messageTypes/BlogMsg.svelte","webpack:///./src/ui/messageTypes/ChannelMsg.svelte","webpack:///./src/ui/messageTypes/ContactMsg.svelte","webpack:///./src/ui/messageTypes/GenericMsg.svelte","webpack:///./src/ui/messageTypes/GenericMsg.svelte.css?c5ca","webpack:///./src/ui/messageTypes/MessageRenderer.svelte","webpack:///./src/ui/messageTypes/MessageRenderer.svelte.css?0b9c","webpack:///./src/ui/messageTypes/PostMsg.svelte","webpack:///./src/ui/messageTypes/PostMsg.svelte.css?eb21","webpack:///./src/ui/messageTypes/PrivateMsg.svelte","webpack:///./src/ui/messageTypes/PubMsg.svelte","webpack:///./src/ui/messageTypes/VoteMsg.svelte","webpack:///./src/ui/parts/AvatarChip.svelte","webpack:///./src/ui/parts/timestamp.js","webpack:///./src/ui/ssb.js","webpack:///./src/ui/utils.js","webpack:///./src/ui/views/Channel.svelte","webpack:///./src/ui/views/Channels.svelte","webpack:///./src/ui/views/Channels.svelte.css?8e6c","webpack:///./src/ui/views/Compose.svelte","webpack:///./src/ui/views/Compose.svelte.css?e74f","webpack:///./src/ui/views/ErrorView.svelte","webpack:///./src/ui/views/Mentions.svelte","webpack:///./src/ui/views/Profile.svelte","webpack:///./src/ui/views/Public.svelte","webpack:///./src/ui/views/Settings.svelte","webpack:///./src/ui/views/Settings.svelte.css?7a16","webpack:///./src/ui/views/Thread.svelte"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA,2BAA2B,mBAAO,CAAC,wGAAmD;AACtF;AACA,cAAc,QAAS,2BAA2B,YAAY,cAAc,sBAAsB,cAAc,UAAU,YAAY,eAAe,wBAAwB,YAAY,gBAAgB,wCAAwC,aAAa;;;;;;;;;;;;;ACF9P,2BAA2B,mBAAO,CAAC,wGAAmD;AACtF;AACA,cAAc,QAAS,uCAAuC,gBAAgB,YAAY;;;;;;;;;;;;;ACF1F,2BAA2B,mBAAO,CAAC,2GAAsD;AACzF;AACA,cAAc,QAAS,0BAA0B,gBAAgB;;;;;;;;;;;;;ACFjE,2BAA2B,mBAAO,CAAC,2GAAsD;AACzF;AACA,cAAc,QAAS,6CAA6C,6BAA6B,uBAAuB,qBAAqB,6BAA6B,eAAe,gCAAgC,eAAe,2BAA2B,UAAU,WAAW,gBAAgB,wBAAwB,wBAAwB;;;;;;;;;;;;;ACFxV,2BAA2B,mBAAO,CAAC,2GAAsD;AACzF;AACA,cAAc,QAAS,6BAA6B,yBAAyB;;;;;;;;;;;;;ACF7E,2BAA2B,mBAAO,CAAC,2GAAsD;AACzF;AACA,cAAc,QAAS,2BAA2B,eAAe;;;;;;;;;;;;;ACFjE,2BAA2B,mBAAO,CAAC,2GAAsD;AACzF;AACA,cAAc,QAAS,8BAA8B,kCAAkC,mCAAmC,aAAa;;;;;;;;;;;;;ACFvI,2BAA2B,mBAAO,CAAC,2GAAsD;AACzF;AACA,cAAc,QAAS,0BAA0B,aAAa,qBAAqB,gBAAgB,qBAAqB,eAAe,gBAAgB;;;;;;;;;;;;;;ACF1I;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;;AAEA;AACA,uCAAuC,gBAAgB;AACvD,OAAO;AACP;AACA;AACA,KAAK;AACL,IAAI;;;AAGJ;AACA;AACA;AACA;;AAEA;;AAEA,mBAAmB,iBAAiB;AACpC;;AAEA;AACA;AACA;AACA;;AAEA,eAAe,oBAAoB;AACnC,4BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;;;;;;;ACpFa;AACb,uBAAuB,EAAE;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA,iBAAiB,mBAAmB;AACpC;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,gBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;;;;;;;;;;;;AC7FY;;AAEZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oC;;;;;;;;;;;;ACpBa;AACb,wBAAwB,mBAAO,CAAC,oEAAmB;AACnD,wBAAwB,mBAAO,CAAC,0EAAsB;AACtD,qBAAqB,mBAAO,CAAC,8DAAgB;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrRa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrBa;AACb,6EAA6E,2CAA2C;;;;;;;;;;;;ACDxH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,uDAAQ;;AAE9B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA,mBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA,KAAK,KAAwC,EAAE,EAE7C;;AAEF,QAAQ,sBAAiB;AACzB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;;AAEA,6BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;;;;;;;;;;;;;AC9YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,WAAW,EAAE;AACrD,wCAAwC,WAAW,EAAE;;AAErD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,sCAAsC;AACtC,GAAG;AACH;AACA,8DAA8D;AAC9D;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;;;;;;;;;;;;ACxFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiD;;AAEjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAE0T;;;;;;;;;;;;;AC/I1T;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;;;;;;;;;;;;;ACAhI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,KAAK;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,yDAAyD;AAC5E;AACA;AACA;AACA;AACA,mBAAmB,kCAAkC,qCAAqC;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC,oBAAoB,6CAA6C;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA,2BAA2B,4BAA4B;AACvD;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,oBAAoB,QAAQ,SAAS,cAAc,aAAa,kBAAkB,sBAAsB,aAAa;AACtK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,mBAAmB,QAAQ;AAC3B;AACA,kCAAkC,EAAE,cAAc;AAClD;AACA,oCAAoC,EAAE,cAAc,GAAG;AACvD,6BAA6B,WAAW,GAAG,IAAI;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,KAAK,GAAG,KAAK;AACzD;AACA;AACA,8BAA8B,eAAe,UAAU,SAAS,EAAE,KAAK,GAAG,SAAS,YAAY,MAAM;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,mDAAmD,aAAa,WAAW;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,UAAU,aAAa,gBAAgB,MAAM,cAAc;AAC7F;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,uCAAuC,8BAA8B,EAAE,KAAK;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iEAAiE;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iEAAiE;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iEAAiE;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA,0DAA0D,MAAM;;AAEhE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qDAAqD,KAAK,IAAI,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,OAAO,GAAG,OAAO;AACrX;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,iCAAiC;AACjC;AACA,KAAK;AACL;AACA;AACA;AACA,gBAAgB;AAChB,eAAe;AACf,eAAe;AACf,cAAc;AACd,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,IAAI;AAChC,4BAA4B,KAAK;AACjC;AACA;AACA;AACA;AACA,kBAAkB,OAAO,GAAG,uBAAuB,GAAG,KAAK,GAAG,OAAO,IAAI;AACzE,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA,2BAA2B,cAAc;AACzC;AACA,4BAA4B;AAC5B,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,KAAK,EAAE,0BAA0B,gEAAgE,MAAM,GAAG,EAAE;AAC3H;AACA;AACA,gCAAgC,QAAQ;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,+CAA+C;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,eAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;;AAEqpD;;;;;;;;;;;;;ACxzCrpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyE;AACpB;;AAErD;AACA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,mBAAmB;AAC9B;AACA,iCAAiC,8CAAI;AACrC;AACA;AACA;AACA,YAAY,gEAAc;AAC1B;AACA,uBAAuB;AACvB;AACA,+BAA+B,wBAAwB;AACvD;AACA;AACA;AACA;AACA;AACA,mCAAmC,6BAA6B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,8CAAI;AAC7C;AACA;AACA;AACA,iCAAiC,8CAAI;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,kCAAkC;AAC7C,WAAW,GAAG;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,8CAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,6DAAW,oBAAoB,8CAAI;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA,YAAY,yDAAO;AACnB;AACA;AACA,KAAK;AACL;;AAEuC;;;;;;;;;;;;;ACjHvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiD;AACC;;AAElD;AACA;AACA,+DAA+D;AAC/D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA;AACA;;AAEA,qBAAqB,4BAA4B;AACjD;AACA;AACA;AACA;AACA,8BAA8B,MAAM;AACpC;AACA;AACA,oBAAoB,qCAAqC,gDAAQ,6BAA6B;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,UAAU,aAAa,YAAY,MAAM,YAAY;AACrE,cAAc,0BAA0B;AACxC;AACA;AACA,sBAAsB,qCAAqC,gDAAQ,EAAE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC,wBAAwB,+BAA+B;AACvD,uBAAuB,WAAW,GAAG;AACrC,4BAA4B,gBAAgB,GAAG;AAC/C,+BAA+B,mBAAmB,GAAG;AACrD,2BAA2B,eAAe,GAAG;AAC7C,8BAA8B,kBAAkB,GAAG;AACnD,iCAAiC,qBAAqB,GAAG;AACzD,oCAAoC,wBAAwB,GAAG;AAC/D;AACA;AACA,sBAAsB,qCAAqC,gDAAQ,0BAA0B;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,UAAU,SAAS,aAAa;AAChD,cAAc;AACd;AACA;AACA;AACA,qBAAqB,sCAAsC,kDAAU,EAAE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ,GAAG,QAAQ;AAC/D;AACA;AACA;AACA,SAAS,WAAW;AACpB;AACA;AACA;AACA,eAAe,wDAAwD,gDAAQ,EAAE,GAAG,wDAAM,CAAC,wDAAM,GAAG;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,6DAAW;AACjC;AACA;AACA,eAAe;AACf;AACA,iBAAiB,UAAU,aAAa,OAAO,KAAK,OAAO,YAAY,iBAAiB,IAAI,iBAAiB;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,2BAA2B,OAAO;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEoD;;;;;;;;;;;;ACpKpD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oH;AACA;AACA;AACA,yD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6H;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,+B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iFCxEkB,MAAM;;wHACW,UAAU,GAAG,QAAQ,GAAG,SAAS;;;;;;;;;;;;;;;;;;;;;;;;iFA0ClD,MAAM;;wHACW,UAAU,GAAG,QAAQ,GAAG,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oFAjDb,WAAW;oFAGV,aAAa;qOAStB,SAAS;qOAMT,QAAQ;qOAMR,UAAU;qOAMV,UAAU;oFAGD,U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A;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B,sDAAO;;AAEjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,sDAAO;AAC9B;AACA,mBAAmB,sDAAO;AAC1B,SAAS;AACT;;;;AAIA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,oCAAoC,sCAAsC;AAC1E;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iDAAiD,aAAa,UAAU;AACxE;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,KAAK;AACzB;AACA;;AAEA;AACA,mDAAmD,KAAK;AACxD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,6CAA6C,GAAG;;AAEhD,2DAA2D,IAAI;AAC/D;;AAEA;AACA;;AAEA,6DAA6D,IAAI;AACjE;;;AAGA;AACA,6CAA6C,GAAG;AAChD;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,yCAAyC;AACzE;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B,aAAa,WAAW,aAAa,aAAa,kBAAkB,kBAAkB,EAAE,EAAE,EAAE;AACzH;AACA;AACA;AACA,8CAA8C,iBAAiB;AAC/D,kDAAkD;AAClD;AACA,6BAA6B;AAC7B,6BAA6B;AAC7B;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA,iDAAiD;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AAC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","file":"ui.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".blocker.svelte-14egiim{height:70px;display:block}.above.svelte-14egiim{z-index:99999;width:100;padding:5px;position:fixed}.current.svelte-14egiim{border:none;background:none;border-bottom:solid 2px rgb(2, 146, 50);outline:none}\", \"\"]);\n\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".reduced-line-length.svelte-1mwu09k{max-width:840px;margin:auto}\", \"\"]);\n\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"pre.code.svelte-mp70wj{overflow:scroll}\", \"\"]);\n\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".blured.svelte-1jn1wek img.svelte-1jn1wek{filter:blur(20px) !important}.blured.svelte-1jn1wek{border:solid 2px red}.feed-display.svelte-1jn1wek{cursor:pointer}.channel-display.svelte-1jn1wek{cursor:pointer}.menu-right.svelte-1jn1wek{right:0px;left:unset;min-width:300px}.private.svelte-1jn1wek{border:solid 2px orange}\", \"\"]);\n\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".card-body.svelte-1ftdgav{overflow-wrap:break-word}\", \"\"]);\n\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".channel.svelte-1or0a5q{cursor:pointer}\", \"\"]);\n\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".file-on-top.svelte-olsuyr{border:solid 2px rgb(26, 192, 11)}input[type=\\\"file\\\"].svelte-olsuyr{display:none}\", \"\"]);\n\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".filter.svelte-1e0jkdi{height:300px;margin-bottom:0.4rem;overflow:hidden}.feed.svelte-1e0jkdi{max-width:100%;overflow:hidden}\", \"\"]);\n\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","\"use strict\"\n\nfunction handleDrop(callback, event) {\n  event.stopPropagation()\n  event.preventDefault()\n  callback(Array.prototype.slice.call(event.dataTransfer.files))\n}\n\nfunction killEvent(e) {\n  e.stopPropagation()\n  e.preventDefault()\n  return false\n}\n\nfunction addDragDropListener(element, callback) {\n  element.addEventListener(\"dragenter\", killEvent, false)\n  element.addEventListener(\"dragover\", killEvent, false)\n  element.addEventListener(\"drop\", handleDrop.bind(undefined, callback), false)\n}\n\nmodule.exports = addDragDropListener","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\t\treturn key => (result, value, index) => {\n\t\t\t\tif (value === null || value === undefined || value.length === 0) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (index === 0) {\n\t\t\t\t\treturn [[encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(',')];\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.split('').indexOf(',') > -1;\n\t\t\t\tconst newValue = isArray ? value.split(',') : value;\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parse(input, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof input !== 'string') {\n\t\treturn ret;\n\t}\n\n\tinput = input.trim().replace(/^[?#&]/, '');\n\n\tif (!input) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of input.split('&')) {\n\t\tlet [key, value] = splitOnFirst(param.replace(/\\+/g, ' '), '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : decode(value, options);\n\n\t\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\t\tvalue = Number(value);\n\t\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\t\tvalue = value.toLowerCase() === 'true';\n\t\t}\n\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t}, options);\n\n\tconst formatter = encoderForArrayFormat(options);\n\tconst keys = Object.keys(object);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (input, options) => {\n\treturn {\n\t\turl: removeHash(input).split('?')[0] || '',\n\t\tquery: parse(extract(input), options)\n\t};\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","export { identity as linear } from '../internal';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","export { afterUpdate, beforeUpdate, createEventDispatcher, getContext, onDestroy, onMount, setContext, tick } from './internal';\n","function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (!store || typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, callback) {\n    const unsub = store.subscribe(callback);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, fn) {\n    return definition[1]\n        ? assign({}, assign(ctx.$$scope.ctx, definition[1](fn ? fn(ctx) : {})))\n        : ctx.$$scope.ctx;\n}\nfunction get_slot_changes(definition, ctx, changed, fn) {\n    return definition[1]\n        ? assign({}, assign(ctx.$$scope.changed || {}, definition[1](fn ? fn(changed) : {})))\n        : ctx.$$scope.changed || {};\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nlet running = false;\nfunction run_tasks() {\n    tasks.forEach(task => {\n        if (!task[0](now())) {\n            tasks.delete(task);\n            task[1]();\n        }\n    });\n    running = tasks.size > 0;\n    if (running)\n        raf(run_tasks);\n}\nfunction clear_loops() {\n    // for testing...\n    tasks.forEach(task => tasks.delete(task));\n    running = false;\n}\nfunction loop(fn) {\n    let task;\n    if (!running) {\n        running = true;\n        raf(run_tasks);\n    }\n    return {\n        promise: new Promise(fulfil => {\n            tasks.add(task = [fn, fulfil]);\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction object_without_properties(obj, exclude) {\n    // eslint-disable-next-line @typescript-eslint/no-object-literal-type-assertion\n    const target = {};\n    for (const k in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    for (const key in attributes) {\n        if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key in node) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            for (let j = 0; j < node.attributes.length; j += 1) {\n                const attribute = node.attributes[j];\n                if (!attributes[attribute.name])\n                    node.removeAttribute(attribute.name);\n            }\n            return nodes.splice(i, 1)[0]; // TODO strip unwanted attributes\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value) {\n    node.style.setProperty(key, value);\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\nfunction add_resize_listener(element, fn) {\n    if (getComputedStyle(element).position === 'static') {\n        element.style.position = 'relative';\n    }\n    const object = document.createElement('object');\n    object.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n    object.type = 'text/html';\n    object.tabIndex = -1;\n    let win;\n    object.onload = () => {\n        win = object.contentDocument.defaultView;\n        win.addEventListener('resize', fn);\n    };\n    if (/Trident/.test(navigator.userAgent)) {\n        element.appendChild(object);\n        object.data = 'about:blank';\n    }\n    else {\n        object.data = 'about:blank';\n        element.appendChild(object);\n    }\n    return {\n        cancel: () => {\n            win && win.removeEventListener && win.removeEventListener('resize', fn);\n            element.removeChild(object);\n        }\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nclass HtmlTag {\n    constructor(html, anchor = null) {\n        this.e = element('div');\n        this.a = anchor;\n        this.u(html);\n    }\n    m(target, anchor = null) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(target, this.n[i], anchor);\n        }\n        this.t = target;\n    }\n    u(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    p(html) {\n        this.d();\n        this.u(html);\n        this.m(this.t, this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nlet stylesheet;\nlet active = 0;\nlet current_rules = {};\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    if (!current_rules[name]) {\n        if (!stylesheet) {\n            const style = element('style');\n            document.head.appendChild(style);\n            stylesheet = style.sheet;\n        }\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    node.style.animation = (node.style.animation || '')\n        .split(', ')\n        .filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    )\n        .join(', ');\n    if (name && !--active)\n        clear_rules();\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        let i = stylesheet.cssRules.length;\n        while (i--)\n            stylesheet.deleteRule(i);\n        current_rules = {};\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = current_component;\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nfunction flush() {\n    const seen_callbacks = new Set();\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (dirty_components.length) {\n            const component = dirty_components.shift();\n            set_current_component(component);\n            update(component.$$);\n        }\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                callback();\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n}\nfunction update($$) {\n    if ($$.fragment) {\n        $$.update($$.dirty);\n        run_all($$.before_update);\n        $$.fragment.p($$.dirty, $$.ctx);\n        $$.dirty = null;\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro  we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro  needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = key && { [key]: value };\n        const child_ctx = assign(assign({}, info.ctx), info.resolved);\n        const block = type && (info.current = type)(child_ctx);\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            flush();\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n    }\n    if (is_promise(promise)) {\n        promise.then(value => {\n            update(info.then, 1, info.value, value);\n        }, error => {\n            update(info.catch, 2, info.error, error);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = { [info.value]: promise };\n    }\n}\n\nconst globals = (typeof window !== 'undefined' ? window : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, changed, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(changed, child_ctx);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction measure(blocks) {\n    const rects = {};\n    let i = blocks.length;\n    while (i--)\n        rects[blocks[i].key] = blocks[i].node.getBoundingClientRect();\n    return rects;\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args) {\n    const attributes = Object.assign({}, ...args);\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === undefined)\n            return;\n        if (value === true)\n            str += \" \" + name;\n        const escaped = String(value)\n            .replace(/\"/g, '&#34;')\n            .replace(/'/g, '&#39;');\n        str += \" \" + name + \"=\" + JSON.stringify(escaped);\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    if (component.$$.props.indexOf(name) === -1)\n        return;\n    component.$$.bound[name] = callback;\n    callback(component.$$.ctx[name]);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    if (component.$$.fragment) {\n        run_all(component.$$.on_destroy);\n        component.$$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        component.$$.on_destroy = component.$$.fragment = null;\n        component.$$.ctx = {};\n    }\n}\nfunction make_dirty(component, key) {\n    if (!component.$$.dirty) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty = blank_object();\n    }\n    component.$$.dirty[key] = true;\n}\nfunction init(component, options, instance, create_fragment, not_equal, prop_names) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const props = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props: prop_names,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty: null\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, props, (key, value) => {\n            if ($$.ctx && not_equal($$.ctx[key], $$.ctx[key] = value)) {\n                if ($$.bound[key])\n                    $$.bound[key](value);\n                if (ready)\n                    make_dirty(component, key);\n            }\n        })\n        : props;\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    $$.fragment = create_fragment($$.ctx);\n    if (options.target) {\n        if (options.hydrate) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment.l(children(options.target));\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement !== 'undefined') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, assign, attr, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_element, claim_text, clear_loops, component_subscribe, createEventDispatcher, create_animation, create_bidirectional_transition, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, debug, destroy_block, destroy_component, destroy_each, detach, dirty_components, each, element, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_slot_changes, get_slot_context, get_spread_update, get_store_value, globals, group_outros, handle_promise, identity, init, insert, intros, invalid_attribute_name_character, is_client, is_function, is_promise, listen, loop, measure, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_input_type, set_now, set_raf, set_style, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, validate_component, validate_store, xlink_attr };\n","import { safe_not_equal, noop, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe,\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\n/**\n * Derived value store by synchronizing one or more readable stores and\n * applying an aggregation function over its input values.\n * @param {Stores} stores input stores\n * @param {function(Stores=, function(*)=):*}fn function callback that aggregates the values\n * @param {*=}initial_value when used asynchronously\n */\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => store.subscribe((value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","import { cubicOut, cubicInOut } from '../easing';\nimport { is_function, assign } from '../internal';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction fade(node, { delay = 0, duration = 400 }) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut }) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `overflow: hidden;` +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut }) {\n    const len = node.getTotalLength();\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { crossfade, draw, fade, fly, scale, slide };\n","var timeago = function(){};\n\ntimeago.prototype.simple = function(date_time) {\n    // today date and time in milliseconds \n    var today = Date.now();\n    var dateParse = Date.parse(date_time);\n    \n    //We will perform some test - if there is error, we will throw error to console and exit, no change will be on the data.\n    try {\n        // We need to check if we able to parse the Date (if the result is NaN, this is an issue)\n        if(dateParse !== dateParse) throw \"timeago-simple: Please check date and time format! Unable to parse the date & time: \" + date_time;\n    }\n    catch(err) {\n        console.error(err);\n        return (date_time);\n    }\n    \n    if((dateParse - today) < 0) {\n\t\treturn pastCalc(date_time);\n\t} else {\n\t\treturn futureCalc(date_time);\n\t}\n};\n\n\n// General help functions for time calculations\nfunction pastCalc(timeData){\n\n    // today date and time in milliseconds \n    var today = Date.now();\n        \n    // parsing post date and time into milliseconds format\n    timeData = Date.parse(timeData);\n\n    var seconds = (today - timeData) / 1000;\n    var minutes = (seconds / 60);\n    var hours = (seconds / 3600);\n    if(seconds < 60 && minutes < 1) {\n        return (seconds === 1 ? Math.round(seconds) + \" second ago\" : Math.round(seconds) + \" seconds ago\");\n    }\n    if(minutes < 60 && hours < 1) {\n        return (minutes === 1 ? Math.round(minutes) + \" minute ago\" : Math.round(minutes) + \" minutes ago\");\n    }\n    if(hours > 24){\n        var days = hours / 24;\n        if (days > 30) {\n            var month = days / 30;\n            if (month > 12) {\n                var years = month / 12;\n                if (years > 0) {\n                    return (years === 1 ? Math.ceil(years) + \" year ago\" : Math.ceil(years) + \" years ago\");\n                }\n            }\n            return (Math.round(month) + \" month ago\");\n        }\n        return (days === 1 ? Math.round(days) + \" day ago\" : Math.round(days) + \" days ago\");\n    } else {\n        return (hours === 1 ? Math.round(hours) + \" hour ago\" : Math.round(hours) + \" hours ago\");\n    }\n        \n}\n\nfunction futureCalc(timeData){\n\n    // today date and time in milliseconds \n    var today = Date.now();\n     \n    // parsing post date and time into milliseconds format\n    timeData = Date.parse(timeData);\n    var seconds = (timeData - today) / 1000;\n    var minutes = (seconds / 60);\n    var hours = (seconds / 3600);\n    if(seconds < 60 && minutes < 1) {\n        return (seconds === 1 ? \"in \" + Math.round(seconds) + \" second\" : \"in \" + Math.round(seconds) + \" seconds\");\n    }\n    if(minutes < 60 && hours < 1) {\n        return (minutes === 1 ? \"in \" + Math.round(minutes) + \" minute\" : \"in \" + Math.round(minutes) + \" minutes\");\n    }\n    if(hours > 24){\n        var days = hours / 24;\n        if (days > 30) {\n            var month = days / 30;\n            if (month > 12) {\n                var years = month / 12;\n                if (years > 0) {\n                    return (years === 1 ? \"in \" + Math.ceil(years) + \" year\" : \"in \" + Math.ceil(years) + \" years\"); \n                }\n            }\n           return (\"in \" + Math.round(month) + \" month\"); \n        }\n        return (days === 1 ? \"in \" + Math.round(days) + \" day\" : \"in \" + Math.round(days) + \" days\");\n    } else {\n        return (hours === 1 ? \"in \" + Math.round(hours) + \" hour\" : \"in \" + Math.round(hours) + \" hours\");\n    }\n}\n\n// Future calculation\ntimeago.prototype.future = function(timeData) {\n    console.warn(\"timeago-simple: .future function is depricated! Please use .simple for both past and future dates.\");\n    // today date and time in milliseconds \n    var today = Date.now();\n\n    //We will perform some test - if there is error, we will throw error to console and exit, no change will be on the data.\n    try {\n        // We need to check if we able to parse the Date (if the result is NaN, this is an issue)\n        if(Date.parse(timeData) !== Date.parse(timeData)) throw \"timeago-simple: Please check date and time format! Unable to parse the date & time: \" + timeData;\n        // Need to check if it's really future date to parse\n        if((Date.parse(timeData) - today) < 0) throw \"timeago-simple: Looks like it's more relevant case for timeago.simple\"; \n    }\n    catch(err) {\n        console.error(err);\n        return (timeData);\n    }\n  \n    // parsing post date and time into milliseconds format\n    timeData = Date.parse(timeData);\n    var seconds = (timeData - today) / 1000;\n    var minutes = (seconds / 60);\n    var hours = (seconds / 3600);\n    /* istanbul ignore if */\n    if(seconds < 60 && minutes < 1) {\n        return (seconds === 1 ? \"in \" + Math.round(seconds) + \" second\" : \"in \" + Math.round(seconds) + \" seconds\");\n    }\n    /* istanbul ignore if */\n    if(minutes < 60 && hours < 1) {\n    \treturn (minutes === 1 ? \"in \" + Math.round(minutes) + \" minute\" : \"in \" + Math.round(minutes) + \" minutes\");\n    }\n    /* istanbul ignore if */\n    if(hours > 24){\n        var days = hours / 24;\n        if (days > 30) {\n            var month = days / 30;\n            if (month > 12) {\n                var years = month / 12;\n                if (years > 0) {\n                    return (years === 1 ? \"in \" + Math.ceil(years) + \" year\" : \"in \" + Math.ceil(years) + \" years\");\n                }\n            }\n\t        return (\"in \" + Math.round(month) + \" month\");\n        }\n        return (days === 1 ? \"in \" + Math.round(days) + \" day\" : \"in \" + Math.round(days) + \" days\");\n    }\n    return (hours === 1 ? \"in \" + Math.round(hours) + \" hour\" : \"in \" + Math.round(hours) + \" hours\");\n};\n\n\nmodule.exports = new timeago();","<script>\r\n  import { connected, navigate, routeLocation, intercept } from \"./utils.js\";\r\n\r\n  let avatar = \"/images/icon.png\";\r\n\r\n  let query =\"\"\r\n\r\n  $: if ($connected) {\r\n    ssb.avatar(ssb.feed).then(data => {\r\n      avatar = `http://localhost:8989/blobs/get/${data.image}`;\r\n    });\r\n  }\r\n\r\n  const goSettings = ev => navigate(\"/settings\");\r\n  const goCompose = () => navigate(\"/compose\");\r\n  const goPublic = () => navigate(\"/public\");\r\n  const goChannels = () => navigate(\"/channels\");\r\n  const goMentions = () => navigate(\"/mentions\");\r\n\r\n  const goSearch = () => {\r\n    navigate(\"/intercept\", {query})\r\n    intercept()\r\n  }\r\n\r\n  const openSidebar = async ev => {\r\n    let loc = window.location.href;\r\n    browser.sidebarAction.setPanel({ panel: loc });\r\n    browser.sidebarAction.open();\r\n  };\r\n\r\n  const closeSidebar = async ev => {\r\n    let loc = await browser.sidebarAction.getPanel({});\r\n    await browser.tabs.create({ url: loc });\r\n    await browser.sidebarAction.close();\r\n  };\r\n\r\n  const openMyProfile = ev => {\r\n    ev.stopPropagation();\r\n    ev.preventDefault();\r\n\r\n    if (ssb.feed) {\r\n      navigate(\"/profile\", { feed: ssb.feed });\r\n    }\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .blocker {\r\n    height: 70px;\r\n    display: block;\r\n  }\r\n\r\n  .above {\r\n    z-index: 99999;\r\n    width: 100;\r\n    padding: 5px;\r\n    position: fixed;\r\n  }\r\n\r\n  .current {\r\n    border: none;\r\n    background: none;\r\n    border-bottom: solid 2px rgb(2, 146, 50);\r\n    outline: none;\r\n  }\r\n</style>\r\n\r\n<header class=\"navbar\">\r\n  <section class=\"navbar-section hide-sm\">\r\n    <a href=\"#/sidebar\" class=\"btn btn-link\" on:click={openSidebar}>\r\n      <i class=\"icon icon-minus text-black\" />\r\n    </a>\r\n    <a href=\"#\" class=\"navbar-brand mr-2 p-1\" on:click={openMyProfile}>\r\n      <figure class=\"avatar avatar-lg\">\r\n        <img src={avatar} alt=\"L\" />\r\n        <i class=\"avatar-presence {$connected ? 'online' : 'offline'}\" />\r\n      </figure>\r\n    </a>\r\n    <a\r\n      href=\"#/compose\"\r\n      class=\"btn btn-link\"\r\n      on:click|stopPropagation|preventDefault={goCompose}>\r\n      Compose\r\n    </a>\r\n    <a\r\n      href=\"#/public\"\r\n      class=\"btn btn-link\"\r\n      on:click|stopPropagation|preventDefault={goPublic}>\r\n      Public\r\n    </a>\r\n    <a\r\n      href=\"#/mentions\"\r\n      class=\"btn btn-link\"\r\n      on:click|stopPropagation|preventDefault={goMentions}>\r\n      Mentions\r\n    </a>\r\n    <a\r\n      href=\"#/channels\" \r\n      class=\"btn btn-link\"\r\n      on:click|stopPropagation|preventDefault={goChannels}>\r\n      Channels\r\n    </a>\r\n    <a href=\"#/settings\" class=\"btn btn-link\" on:click={goSettings}>Settings</a>\r\n    <a href=\"/docs/index.html\" class=\"btn btn-link\">Help</a>\r\n  </section>\r\n   <section class=\"navbar-section hide-sm\">\r\n    <div class=\"input-group input-inline\">\r\n      <input class=\"form-input\" type=\"text\" bind:value={query} placeholder=\"search\">\r\n      <button class=\"btn btn-primary input-group-btn\" on:click={goSearch}>Go</button>\r\n    </div>\r\n  </section>\r\n  <section class=\"navbar-section show-sm bg-gray above\">\r\n    <button class=\"btn btn-link\" on:click={() => history.back()}>\r\n      <i class=\"icon icon-back\" />\r\n    </button>\r\n    <a href=\"...\" class=\"navbar-brand mr-2 p-1\">\r\n      <figure class=\"avatar\">\r\n        <img src={avatar} alt=\"L\" />\r\n        <i class=\"avatar-presence {$connected ? 'online' : 'offline'}\" />\r\n      </figure>\r\n    </a>\r\n    <div class=\"dropdown float-right\">\r\n      <a\r\n        href=\"?\"\r\n        class=\"btn btn-link dropdown-toggle\"\r\n        tabindex=\"0\"\r\n        on:click|stopPropagation|preventDefault={() => ''}>\r\n        Menu\r\n        <i class=\"icon icon-caret\" />\r\n      </a>\r\n      <!-- menu component -->\r\n      <ul class=\"menu\">\r\n        <li class=\"menu-item\">\r\n          <a\r\n            href=\"#/compose\"\r\n            class=\"btn btn-link\"\r\n            on:click|stopPropagation|preventDefault={goCompose}>\r\n            Compose\r\n          </a>\r\n        </li>\r\n        <li class=\"menu-item\">\r\n          <a\r\n            href=\"#/public\"\r\n            class=\"btn btn-link\"\r\n            on:click|stopPropagation|preventDefault={goPublic}>\r\n            Public\r\n          </a>\r\n        </li>\r\n        <li class=\"menu-item\">\r\n          <a\r\n            href=\"#/channels\"\r\n            class=\"btn btn-link\"\r\n            on:click|stopPropagation|preventDefault={goChannels}>\r\n            Channels\r\n          </a>\r\n        </li>\r\n        <li class=\"menu-item\">\r\n          <a\r\n            href=\"#/mentions\"\r\n            class=\"btn btn-link\"\r\n            on:click|stopPropagation|preventDefault={goMentions}>\r\n            Mentions\r\n          </a>\r\n        </li>\r\n        <li class=\"menu-item\">\r\n          <a href=\"#/settings\" class=\"btn btn-link\" on:click={goSettings}>\r\n            Settings\r\n          </a>\r\n        </li>\r\n        <li class=\"menu-item\">\r\n          <a href=\"/docs/index.html\" class=\"btn btn-link\">Help</a>\r\n        </li>\r\n        <li class=\"menu-item\">\r\n          <a href=\"#/sidebar\" class=\"btn btn-link\" on:click={closeSidebar}>\r\n            Open as a Tab\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </section>\r\n  <div class=\"blocker show-sm\" />\r\n</header>\r\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./Navigation.svelte.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!./Navigation.svelte.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!./Navigation.svelte.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","<script>\r\n  import { onMount, onDestroy } from \"svelte\";\r\n  import {\r\n    connected,\r\n    route,\r\n    navigate,\r\n    currentView,\r\n    connect,\r\n    reconnect,\r\n    getPref,\r\n    routeLocation,\r\n    keepPinging \r\n  } from \"./utils.js\";\r\n  import Navigation from \"./Navigation.svelte\";\r\n\r\n  let useShortColumn = getPref(\"columnSize\", \"short\") == \"short\";\r\n  console.log(\"columnSize\", useShortColumn)\r\n\r\n  onMount(async () => {\r\n    try {\r\n      await connect();\r\n\r\n      keepPinging();\r\n    } catch (n) {\r\n      console.error(\"connect error\", n);\r\n      switch (n) {\r\n        case \"Can't connect to sbot\":\r\n          // need to be able to go to settings even though no connection is\r\n          // established.\r\n          if ($routeLocation !== \"/settings\") {\r\n            window.location = \"/docs/index.html#/troubleshooting/no-connection\";\r\n          }\r\n          break;\r\n        default:\r\n          navigate(\"/error\", { error: n });\r\n          break;\r\n      }\r\n    }\r\n  });\r\n\r\n  const popState = event => {\r\n    if (event.state !== null) {\r\n      console.dir(\"pop\", event.state);\r\n      let { location, data } = event.state;\r\n      route.set({ location, data });\r\n    }\r\n  };\r\n\r\n  const handleUncaughtException = event => {\r\n    console.error(\"Uncaught exception\", event);\r\n    navigate(\"/error\", { error: event.message });\r\n  };\r\n\r\n  const hashChange = event => {\r\n    console.dir(\"hash change\", event);\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .reduced-line-length {\r\n    max-width: 840px;\r\n    margin: auto; \r\n  }\r\n</style>\r\n\r\n<svelte:window\r\n  on:popstate={popState}\r\n  on:error={handleUncaughtException}\r\n  on:hashchange={hashChange} />\r\n<div class=\"container bg-gray\">\r\n  <div class=\"columns\">\r\n    <div class=\"column\" class:reduced-line-length={useShortColumn}>\r\n      <Navigation />\r\n      <svelte:component this={$currentView} />\r\n    </div>\r\n  </div>\r\n</div>\r\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./Patchfox.svelte.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!./Patchfox.svelte.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!./Patchfox.svelte.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import { getPref, setPref } from \"./utils.js\"\r\n\r\nexport const getFilters = () => getPref(\"filters\", [])\r\n\r\nexport const addFilter = (filter) => {\r\n    let currentFilters = getFilters()\r\n\r\n    currentFilters.push(filter)\r\n\r\n    setPref(\"filters\", currentFilters)\r\n}\r\n\r\nexport const deleteFilter = (filter) => {\r\n    let currentFilters = getFilters()\r\n\r\n    setPref(\"filters\", currentFilters.filter(f => f !== filter))\r\n}\r\n\r\nexport const isMessageBlured = (msg) => {\r\n    let currentFilters = getFilters().filter(f => f.action == \"blur\")\r\n    if (currentFilters.length > 0) {\r\n        let res = currentFilters.map((f) => isMessageFiltered(msg, f, \"blur\"))\r\n        return !res.some(r => r)\r\n    } else {\r\n        return false\r\n    }\r\n}\r\n\r\n\r\nexport const isMessageHidden = (msg) => {\r\n    let currentFilters = getFilters().filter(f => f.action == \"hide\")\r\n    if (currentFilters.length > 0) {\r\n        let res = currentFilters.map((f) => isMessageFiltered(msg, f, \"hide\"))\r\n        return res.some(r => r)\r\n    } else {\r\n        return true // true because it is used by a pull.filter()\r\n    }\r\n}\r\n\r\nexport const isMessageFiltered = (msg, filter, action) => {\r\n    let filterResults = []\r\n    if (filter.action !== action) {\r\n        return true\r\n    }\r\n\r\n    if (filter.expires) {\r\n        let expirationDate = new Date(filter.expires)\r\n        let today = new Date()\r\n\r\n        if (today > expirationDate) {\r\n            return true\r\n        }\r\n    }\r\n\r\n    if (filter.feed) {\r\n        if (filter.feed == msg.value.author) {\r\n            console.log(\"filtered due to feed\")\r\n            filterResults.push(true)\r\n        } else {\r\n            filterResults.push(false)\r\n        }\r\n    }\r\n\r\n    if (filter.channel) {\r\n        console.log(\"filtered due to channel\")\r\n        if (msg.value.content.channel && filter.channel == msg.value.content.channel) {\r\n            filterResults.push(true)\r\n        } else {\r\n            filterResults.push(false)\r\n        }\r\n    }\r\n\r\n    if (filter.keywords.length > 0 && msg.value.content.type == \"post\" && msg.value.content.text) {\r\n        let keywords = filter.keywords\r\n        let content = msg.value.content.text.toLowerCase()\r\n\r\n        let res = keywords.map(k => content.includes(k.toLowerCase())).some(r => r)\r\n        if (res) console.log(\"filtered due to keywords\")\r\n        filterResults.push(res)\r\n    }\r\n\r\n    console.log(\"res\", !filterResults.some(n => n == true))\r\n    return !filterResults.some(n => n == true)\r\n}","import Patchfox from \"./Patchfox.svelte\";\r\n\r\nimport {\r\n    loadConfiguration,\r\n    navigate,\r\n    intercept,\r\n} from \"./utils.js\";\r\n\r\nconst main = async () => {\r\n    window.ssb = false;\r\n\r\n    intercept()\r\n\r\n    try {\r\n        await loadConfiguration()\r\n\r\n    } catch (n) {\r\n        console.error(\"initialization error\", n)\r\n        switch (n) {\r\n            case \"Configuration is missing\":\r\n                navigate(\"/settings\")\r\n                break\r\n            default:\r\n                navigate(\"/error\", { error: n })\r\n                break\r\n        }\r\n\r\n    }\r\n\r\n    const patchfox = new Patchfox({\r\n        target: document.body\r\n    });\r\n}\r\n\r\nmain()","<script>\r\n  export let msg;\r\n\r\n  let person = msg.value.author;\r\n  let otherLink = encodeURIComponent(msg.value.content.about);\r\n  let otherName = msg.value.content.name || msg.value.content.about;\r\n  let isThisAboutFeeds = true;\r\n  let verb =\r\n    msg.value.content.about === msg.value.author\r\n      ? \"self-identifies\"\r\n      : \"identifies\";\r\n\r\n  ssb.avatar(msg.value.author).then(data => (person = data.name));\r\n\r\n  if (otherName === msg.value.content.about) {\r\n    ssb.avatar(msg.value.content.about).then(data => (otherName = data.name));\r\n  }\r\n\r\n  let image = msg.value.content.image\r\n    ? `http://localhost:8989/blobs/get/${encodeURIComponent(\r\n        msg.value.content.image\r\n      )}`\r\n    : false;\r\n\r\n  if (msg.value.content.description) {\r\n    verb += \" with description\";\r\n  }\r\n\r\n  if (msg.value.content.about.startsWith(\"%\")) {\r\n    isThisAboutFeeds = false; // this appear to be a gathering\r\n  }\r\n</script>\r\n\r\n<div class=\"card-body\">\r\n  {#if isThisAboutFeeds}\r\n    {person} {verb}\r\n    <a href=\"?feed={otherLink}#/profile\">\r\n      {#if image}\r\n        <div class=\"chip\">\r\n          <img src={image} class=\"avatar avatar-sm\" alt={otherName} />\r\n           {otherName}\r\n        </div>\r\n      {:else}\r\n        <span class=\"chip\">{otherName}</span>\r\n      {/if}\r\n    </a>\r\n    {#if msg.value.content.description}\r\n      <blockquote>\r\n        {@html ssb.markdown(msg.value.content.description)}\r\n      </blockquote>\r\n    {/if}\r\n  {:else}\r\n    <div class=\"toast\">\r\n       {person} is doing something related to a gathering but gatherings are not\r\n      supported yet, sorry.\r\n    </div>\r\n  {/if}\r\n</div>\r\n","<script>\r\n  import { navigate, routeLocation } from \"../utils.js\";\r\n\r\n  export let msg;\r\n\r\n  let content = msg.value.content;\r\n\r\n  let summary = ssb.markdown(content.summary);\r\n  let thumbnail = content.thumbnail || false;\r\n  let title = content.title || false;\r\n  let showBlogpost = false;\r\n  let loading = false;\r\n  let toast = false;\r\n  let toastMsg = \"\";\r\n  let post = summary;\r\n\r\n  let liked = false;\r\n\r\n  ssb.votes(msg.key).then(ms => {\r\n    ms.forEach(m => {\r\n      let author = m.value.author;\r\n      if ((author === ssb.feed && m.value.content.vote.value === 1)) {\r\n        liked = true;\r\n      }\r\n    });\r\n  });\r\n\r\n  const likeChanged = ev => {\r\n    let v = ev.target.checked;\r\n    if (v) {\r\n      ssb\r\n        .like(msg.key)\r\n        .then(() => console.log(\"liked\", msg.key))\r\n        .catch(() => (liked = false));\r\n    } else {\r\n      ssb\r\n        .unlike(msg.key)\r\n        .then(() => console.log(\"unliked\", msg.key))\r\n        .catch(() => (liked = true));\r\n    }\r\n  };\r\n\r\n  const displayBlogPost = ev => {\r\n    loading = true;\r\n    console.log(\"loading blogpost\", content.blog);\r\n\r\n    ssb\r\n      .getBlob(content.blog)\r\n      .then(data => {\r\n        post = ssb.markdown(data);\r\n        showBlogpost = true;\r\n      })\r\n      .catch(err => {\r\n        console.error(\"can't load blog post\", err);\r\n        toast = true;\r\n        toastMsg = err;\r\n      });\r\n  };\r\n\r\n  const reply = ev => {\r\n    let rootId = msg.value.content.root || msg.key;\r\n    let channel = msg.value.content.channel;\r\n    navigate(\"/compose\", { root: rootId, branch: msg.key, channel });\r\n  };\r\n\r\n  const goRoot = ev => {\r\n    let rootId = msg.value.content.root || msg.key;\r\n    navigate(\"/thread\", { thread: rootId });\r\n  };\r\n\r\n  const goBranch = ev => {\r\n    let branchId = msg.value.content.branch || msg.key;\r\n    navigate(\"/thread\", { thread: branchId });\r\n  };\r\n\r\n  if ($routeLocation == \"/thread\") {\r\n    setTimeout(displayBlogPost, 100);\r\n  }\r\n</script>\r\n\r\n<style>\r\n  div img.is-image-from-blob {\r\n    max-width: 90%;\r\n  }\r\n</style>\r\n\r\n{#if thumbnail}\r\n  <div class=\"card-image\">\r\n    <img\r\n      src=\"http://localhost:8989/blobs/get/{encodeURIComponent(thumbnail)}\"\r\n      class=\"img-responsive\"\r\n      alt={title} />\r\n  </div>\r\n{/if}\r\n<div class=\"card-body\">\r\n  {#if title}\r\n    <h1 class=\"card-title h5\">{title}</h1>\r\n  {/if}\r\n\r\n  {#if toast}\r\n    <div class=\"toast toast-error\">Can't load blogpost: {toastMsg}</div>\r\n  {/if}\r\n  {#if showBlogpost}\r\n    {@html post}\r\n  {:else}\r\n    {@html summary}\r\n  {/if}\r\n</div>\r\n<div class=\"card-footer\">\r\n  <div class=\"columns col-gapless\">\r\n    <div class=\"column col-6\">\r\n      <label class=\"form-switch d-inline\">\r\n        <input type=\"checkbox\" on:change={likeChanged} checked={liked} />\r\n        <i class=\"form-icon\" />\r\n        Like\r\n      </label>\r\n      {#if msg.value.content.root}\r\n        <span>\r\n          <a\r\n            href=\"?thread={encodeURIComponent(msg.value.content.root)}#/thread\"\r\n            on:click|preventDefault={goRoot}>\r\n            (root)\r\n          </a>\r\n        </span>\r\n      {/if}\r\n      {#if msg.value.content.branch}\r\n        <span>\r\n          <a\r\n            href=\"?thread={encodeURIComponent(msg.value.content.branch)}#/thread\"\r\n            on:click|preventDefault={goBranch}>\r\n            (in reply to)\r\n          </a>\r\n        </span>\r\n      {/if}\r\n    </div>\r\n    <div class=\"column col-6 text-right\">\r\n      <button class=\"btn\" on:click={reply}>Reply</button>\r\n      {#if !showBlogpost}\r\n        <button\r\n          class=\"btn btn-primary\"\r\n          class:locating={loading}\r\n          on:click={displayBlogPost}>\r\n          Read Blogpost\r\n        </button>\r\n      {:else}\r\n        <button\r\n          class=\"btn btn-primary\"\r\n          class:locating={loading}\r\n          on:click={() => (showBlogpost = false)}>\r\n          Close Blogpost\r\n        </button>\r\n      {/if}\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n","<script>\r\n  import { navigate } from \"../utils.js\";\r\n\r\n  export let msg;\r\n\r\n  let person = msg.value.author;\r\n  let verb = msg.value.content.subscribed ? \"subscribed\" : \"unsubscribed\";\r\n  let channel = encodeURIComponent(msg.value.content.channel);\r\n\r\n  ssb.avatar(msg.value.author).then(data => (person = data.name));\r\n\r\n   const goChannel = ev => {\r\n    ev.stopPropagation();\r\n    ev.preventDefault();\r\n    navigate(\"/channel\", { channel: msg.value.content.channel });\r\n  };\r\n</script>\r\n\r\n<div class=\"card-body\">\r\n   {person} {verb}\r\n  <a href=\"?channel={channel}#/channel\" on:click={goChannel}>#{channel}</a>\r\n</div>\r\n","<script>\r\n  import { navigate } from \"../utils.js\";\r\n\r\n  export let msg;\r\n\r\n  let person = msg.value.author;\r\n  let otherPersonFeed = encodeURIComponent(msg.value.content.contact);\r\n  let otherPersonName = otherPersonFeed;\r\n  let verb = msg.value.content.following ? \"followed\" : \"unfollowed\";\r\n\r\n  if (msg.value.content.blocking) {\r\n    verb = \"blocked\";\r\n  }\r\n\r\n  ssb.avatar(msg.value.author).then(data => (person = data.name));\r\n  ssb\r\n    .avatar(msg.value.content.contact)\r\n    .then(data => {\r\n      otherPersonName = data.name;\r\n    })\r\n    .catch(n => console.log(n));\r\n\r\n  const goProfile = ev => {\r\n    ev.stopPropagation();\r\n    ev.preventDefault();\r\n    navigate(\"/profile\", { feed: msg.value.content.contact });\r\n  };\r\n</script>\r\n\r\n<div class=\"card-body\">\r\n   {person} {verb}\r\n  <a href=\"?feed={otherPersonFeed}#/profile\" on:click={goProfile}>\r\n     {otherPersonName}\r\n  </a>\r\n</div>\r\n","<script>\r\n  export let msg;\r\n\r\n  let rawContent = JSON.stringify(msg, null, 2);\r\n</script>\r\n<style>\r\npre.code {\r\n    overflow: scroll;\r\n}\r\n</style>\r\n\r\n<div class=\"card-body\">\r\n  <pre class=\"code\">\r\n    <code> {rawContent} </code>\r\n  </pre>\r\n</div>\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./GenericMsg.svelte.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!./GenericMsg.svelte.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./GenericMsg.svelte.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","<script>\r\n  import PostMsg from \"./PostMsg.svelte\";\r\n  import GenericMsg from \"./GenericMsg.svelte\";\r\n  import VoteMsg from \"./VoteMsg.svelte\";\r\n  import PrivateMsg from \"./PrivateMsg.svelte\";\r\n  import ContactMsg from \"./ContactMsg.svelte\";\r\n  import ChannelMsg from \"./ChannelMsg.svelte\";\r\n  import AboutMsg from \"./AboutMsg.svelte\";\r\n  import PubMsg from \"./PubMsg.svelte\";\r\n  import BlogMsg from \"./BlogMsg.svelte\";\r\n  import AvatarChip from \"../parts/AvatarChip.svelte\";\r\n  import timestamp from \"../parts/timestamp.js\";\r\n  import { navigate } from \"../utils.js\";\r\n  import { isMessageBlured } from \"../abusePrevention.js\";\r\n\r\n  export let msg;\r\n\r\n  let type;\r\n  let feed = msg.value.author;\r\n  let showRaw = false;\r\n  let rawContent = JSON.stringify(msg, null, 2);\r\n  let dropdownActive = false;\r\n  let privateMsgForYou = false;\r\n\r\n  let messageTypes = {\r\n    \"*\": GenericMsg,\r\n    post: PostMsg,\r\n    vote: VoteMsg,\r\n    private: PrivateMsg,\r\n    contact: ContactMsg,\r\n    channel: ChannelMsg,\r\n    about: AboutMsg,\r\n    pub: PubMsg,\r\n    blog: BlogMsg\r\n  };\r\n\r\n  let selectedRenderer;\r\n\r\n  if (typeof msg.value.content === \"string\") {\r\n    type = \"private\";\r\n  } else {\r\n    type = msg.value.content.type;\r\n  }\r\n\r\n  if (msg.value.private) {\r\n    privateMsgForYou = true;\r\n  }\r\n\r\n  if (messageTypes.hasOwnProperty(type)) {\r\n    selectedRenderer = messageTypes[type];\r\n  } else {\r\n    selectedRenderer = messageTypes[\"*\"];\r\n  }\r\n\r\n  let image = \"images/icon.png\";\r\n  let name = feed;\r\n  let blured = isMessageBlured(msg);\r\n\r\n  ssb.avatar(feed).then(data => {\r\n    if (data.image !== null) {\r\n      image = `http://localhost:8989/blobs/get/${data.image}`;\r\n    }\r\n    name = data.name;\r\n  });\r\n\r\n  const toggleRawMessage = () => {\r\n    showRaw = !showRaw;\r\n    dropdownActive = false;\r\n  };\r\n\r\n  const copyPermalink = () => {\r\n    navigator.clipboard\r\n      .writeText(`ssb:${msg.key}`)\r\n      .then(() => console.log(\"permalink copied\"))\r\n      .catch(err => console.error(\"can't copy permalink\", err));\r\n\r\n    dropdownActive = false;\r\n  };\r\n\r\n  const copyHash = () => {\r\n    navigator.clipboard\r\n      .writeText(`${msg.key}`)\r\n      .then(() => console.log(\"hash copied\"))\r\n      .catch(err => console.error(\"can't copy hash\", err));\r\n\r\n    dropdownActive = false;\r\n  };\r\n\r\n  const goProfile = ev => {\r\n    if (ev.ctrlKey) {\r\n      window.open(`?feed=${encodeURIComponent(feed)}#/profile`);\r\n    } else {\r\n      navigate(\"/profile\", { feed });\r\n    }\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .blured img {\r\n    filter: blur(20px) !important;\r\n  }\r\n\r\n  .blured {\r\n    border: solid 2px red;\r\n  }\r\n  .raw-content {\r\n    width: 50%;\r\n  }\r\n\r\n  .feed-display {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .channel-display {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .menu-right {\r\n    right: 0px;\r\n    left: unset;\r\n    min-width: 300px;\r\n  }\r\n\r\n  .private {\r\n    border: solid 2px orange;\r\n  }\r\n</style>\r\n\r\n<div class=\"card m-2\" class:private={privateMsgForYou} class:blured>\r\n  <div class=\"card-header\">\r\n    <div class=\"float-left\">\r\n      <div class=\"card-title\">\r\n        <div class=\"tile tile-centered feed-display\" on:click={goProfile}>\r\n          <div class=\"tile-icon\">\r\n            <div class=\"example-tile-icon\">\r\n              <img src={image} class=\"avatar avatar-lg\" alt={feed} />\r\n            </div>\r\n          </div>\r\n          <div class=\"tile-content\">\r\n            <div class=\"tile-title\">{name}</div>\r\n            <small class=\"tile-subtitle text-gray\">\r\n               {timestamp(msg.value.timestamp)}\r\n            </small>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    {#if privateMsgForYou}\r\n      <span class=\"label\">PRIVATE</span>\r\n    {/if}\r\n    <div class=\"float-right\">\r\n      <span\r\n        class=\"text-gray channel-display\"\r\n        on:click={() => navigate('/channel', {\r\n            channel: msg.value.content.channel\r\n          })}>\r\n        {#if msg.value.content.channel}#{msg.value.content.channel}{/if}\r\n      </span>\r\n      <div class=\"dropdown\">\r\n        <span\r\n          class=\"btn btn-link dropdown-toggle\"\r\n          tabindex=\"0\"\r\n          class:active={dropdownActive}\r\n          on:click={() => (dropdownActive = !dropdownActive)}>\r\n          <i class=\"icon icon-more-vert\" />\r\n        </span>\r\n        <ul class=\"menu menu-right\">\r\n          <li class=\"menu-item\">\r\n\r\n            <a\r\n              href=\"?thread={encodeURIComponent(msg.key)}#/thread\"\r\n              target=\"_blank\">\r\n              <i class=\"icon icon-share\" />\r\n              Open in new tab\r\n            </a>\r\n          </li>\r\n          <li class=\"menu-item\">\r\n            <a href=\"#\" on:click|preventDefault={copyPermalink}>\r\n              <i class=\"icon icon-copy\" />\r\n              Copy permalink to clipboard\r\n            </a>\r\n          </li>\r\n          <li class=\"menu-item\">\r\n            <a href=\"#\" on:click|preventDefault={copyHash}>\r\n              <i class=\"icon icon-copy\" />\r\n              Copy message id to clipboard\r\n            </a>\r\n          </li>\r\n          <li class=\"divider\" data-content=\"FOR THE CURIOUS\" />\r\n          <li class=\"menu-item\">\r\n            <a href=\"#\" on:click|preventDefault={toggleRawMessage}>\r\n              <i class=\"icon icon-message\" />\r\n              {#if !showRaw}Show raw message{:else}Close raw message{/if}\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  {#if !showRaw}\r\n    <svelte:component this={selectedRenderer} {msg} />\r\n  {:else}\r\n    <div class=\"card-body\">\r\n      <div class=\"columns\">\r\n        <div class=\"column col-9\">\r\n          <pre class=\"code\">\r\n            <code>{rawContent}</code>\r\n          </pre>\r\n        </div>\r\n        <div class=\"column col-3\">\r\n          <p>\r\n            This is a message of type\r\n            <em>{type}</em>\r\n            .\r\n          </p>\r\n          <p>\r\n            To learn more about it, go to\r\n            <a target=\"_blank\" href=\"/docs/index.html#/message_types/{type}\">\r\n              the documentation about messages with type {type}\r\n            </a>\r\n            .\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  {/if}\r\n</div>\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./MessageRenderer.svelte.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!./MessageRenderer.svelte.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./MessageRenderer.svelte.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","<script>\r\n  import { navigate } from \"../utils.js\";\r\n\r\n  export let msg;\r\n\r\n  let content = ssb.markdown(msg.value.content.text);\r\n  let liked = false;\r\n  let hasContentWarning = msg.value.content.contentWarning || false;\r\n  let showContentWarning = true;\r\n\r\n  ssb.votes(msg.key).then(ms => {\r\n    ms.forEach(m => {\r\n      let author = m.value.author;\r\n      if (author === ssb.feed && m.value.content.vote.value === 1) {\r\n        liked = true;\r\n      }\r\n    });\r\n  });\r\n\r\n  const likeChanged = ev => {\r\n    let v = ev.target.checked;\r\n    if (v) {\r\n      ssb\r\n        .like(msg.key)\r\n        .then(() => console.log(\"liked\", msg.key))\r\n        .catch(() => (liked = false));\r\n    } else {\r\n      ssb\r\n        .unlike(msg.key)\r\n        .then(() => console.log(\"unliked\", msg.key))\r\n        .catch(() => (liked = true));\r\n    }\r\n  };\r\n\r\n  const reply = ev => {\r\n    let root = msg.value.content.root || msg.key;\r\n    let channel = msg.value.content.channel;\r\n    let replyfeed = msg.value.author;\r\n    navigate(\"/compose\", { root, branch: msg.key, channel, replyfeed });\r\n  };\r\n\r\n  const fork = ev => {\r\n    let originalRoot = msg.value.content.root || msg.key;\r\n    let channel = msg.value.content.channel;\r\n    let replyfeed = msg.value.author;\r\n    navigate(\"/compose\", {\r\n      root: msg.key,\r\n      branch: msg.key,\r\n      fork: originalRoot,\r\n      channel,\r\n      replyfeed\r\n    });\r\n  };\r\n\r\n  const goRoot = ev => {\r\n    let rootId = msg.value.content.root || msg.key;\r\n    navigate(\"/thread\", { thread: rootId });\r\n  };\r\n\r\n  const goBranch = ev => {\r\n    let branchId = msg.value.content.branch || msg.key;\r\n    navigate(\"/thread\", { thread: branchId });\r\n  };\r\n</script>\r\n\r\n<style>\r\n  div img.is-image-from-blob {\r\n    max-width: 90%;\r\n  }\r\n\r\n  .card-body {\r\n    overflow-wrap: break-word;\r\n  }\r\n</style>\r\n\r\n<div class=\"card-body\">\r\n  {#if hasContentWarning && showContentWarning}\r\n    <p>{msg.value.content.contentWarning}</p>\r\n    <button\r\n      class=\"btn\"\r\n      on:click={() => (showContentWarning = !showContentWarning)}>\r\n      Show Message\r\n    </button>\r\n  {:else}\r\n    {#if hasContentWarning}\r\n      <div class=\"toast toast-warning\">\r\n        <p>\r\n          <b>Content Warning:</b>\r\n          {msg.value.content.contentWarning}\r\n          <button\r\n            class=\"btn btn-sm float-right\"\r\n            on:click={() => (showContentWarning = !showContentWarning)}>\r\n            Hide Message\r\n          </button>\r\n        </p>\r\n      </div>\r\n    {/if}\r\n    {@html content}\r\n  {/if}\r\n</div>\r\n<div class=\"card-footer\">\r\n  <div class=\"columns col-gapless\">\r\n    <div class=\"column col-6\">\r\n      <label class=\"form-switch d-inline\">\r\n        <input type=\"checkbox\" on:change={likeChanged} checked={liked} />\r\n        <i class=\"form-icon\" />\r\n        Like\r\n      </label>\r\n      {#if msg.value.content.root}\r\n        <span>\r\n          <a\r\n            href=\"?thread={encodeURIComponent(msg.value.content.root)}#/thread\"\r\n            on:click|preventDefault={goRoot}>\r\n            (root)\r\n          </a>\r\n        </span>\r\n      {/if}\r\n      {#if msg.value.content.branch}\r\n        <span>\r\n          <a\r\n            href=\"?thread={encodeURIComponent(msg.value.content.branch)}#/thread\"\r\n            on:click|preventDefault={goBranch}>\r\n            (in reply to)\r\n          </a>\r\n        </span>\r\n      {/if}\r\n    </div>\r\n\r\n    {#if !msg.value.private}\r\n      <div class=\"column col-6 text-right\">\r\n        <button class=\"btn\" on:click={fork}>Fork</button>\r\n\r\n        <button class=\"btn\" on:click={reply}>Reply</button>\r\n      </div>\r\n    {/if}\r\n  </div>\r\n\r\n</div>\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./PostMsg.svelte.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!./PostMsg.svelte.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./PostMsg.svelte.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","<script>\r\n  export let msg;\r\n</script>\r\n\r\n<div class=\"card-body\">\r\n<p> PRIVATE</p>\r\n</div>\r\n","<script>\r\n  import { navigate } from \"../utils.js\";\r\n\r\n  export let msg;\r\n\r\n  let encodedid = encodeURIComponent(msg.value.content.address.key);\r\n  let person = msg.value.author;\r\n  let host = msg.value.content.address.host\r\n  let port = msg.value.content.address.port\r\n\r\n  ssb.avatar(msg.value.author).then(data => (person = data.name));\r\n\r\n  \r\n  const goProfile = ev => {\r\n    ev.stopPropagation();\r\n    ev.preventDefault();\r\n    navigate(\"/profile\", { feed: msg.value.content.address.key });\r\n  };\r\n</script>\r\n\r\n<div class=\"card-body\">\r\n   {person} announced pub\r\n  <a href=\"/index.html?feed={encodedid}#/profile\" on:click={goProfile}>{host}:{port}</a>\r\n</div>\r\n","<script>\r\n  import { navigate } from \"../utils.js\";\r\n  export let msg;\r\n\r\n  let expression = msg.value.content.vote.expression;\r\n  let msgid = msg.value.content.vote.link;\r\n  let encodedid = encodeURIComponent(msgid);\r\n  let label = msgid;\r\n  let person = msg.value.author;\r\n\r\n  ssb.blurbFromMsg(msgid, 100).then(blurb => {\r\n    label = blurb;\r\n  });\r\n\r\n  ssb.avatar(msg.value.author).then(data => (person = data.name));\r\n\r\n  const goThread = ev => {\r\n    ev.stopPropagation();\r\n    ev.preventDefault();\r\n    if (ev.ctrlKey) {\r\n      window.open(`?thread=${encodeURIComponent(msgid)}#/thread`);\r\n    } else {\r\n      navigate(\"/thread\", { thread: msgid });\r\n    }\r\n  };\r\n</script>\r\n\r\n<div class=\"card-body\">\r\n   {person} {expression}\r\n  <a href=\"/index.html?thread={encodedid}#/thread\" on:click={goThread}>\r\n     {label}\r\n  </a>\r\n</div>\r\n","<script>\r\n  import { createEventDispatcher } from \"svelte\";\r\n  export let feed;\r\n\r\n  let image = false;\r\n  let name = feed;\r\n  const dispatch = createEventDispatcher();\r\n\r\n  ssb.avatar(feed).then(data => {\r\n    if (data.image !== null) {\r\n      image = `http://localhost:8989/blobs/get/${data.image}`;\r\n    }\r\n    name = data.name;\r\n  });\r\n\r\n  function avatarClick() {\r\n    dispatch(\"avatarClick\", {\r\n      feed,\r\n      name\r\n    });\r\n  }\r\n</script>\r\n\r\n{#if image}\r\n  <div class=\"chip\" on:click={avatarClick}>\r\n    <img src={image} class=\"avatar avatar-sm\" />\r\n     {name}\r\n  </div>\r\n{:else}\r\n  <span class=\"chip\" on:click={avatarClick}> {name} </span>\r\n{/if}\r\n","import timeago from \"timeago-simple\";\r\n\r\nconst timestamp = t => {\r\n\r\n    return timeago.simple(new Date(t))\r\n}\r\n\r\nexport default timestamp;\r\n","/**\r\n * SSB\r\n *\r\n * TL;DR: SSB API for Patchfox using Hermiebox.\r\n *\r\n * OBJECTIVE:\r\n * The SSB is in flux right now. There are many approaches being played with which might\r\n * affect how this WebExtension connect to sbot. Some of the experiments being tried out are:\r\n *\r\n * - lessbot/nobot: each app maintain its own database and index but post through a shared sbot.\r\n * - graphql: export a GraphQL server which offers SSB features.\r\n * - json-rpc: export a JSON-RPC server offering SSB features.\r\n *\r\n * This driver folder will contain the various adapters to use these modes of connection as they\r\n * become available. For now, we'll use hermiebox.\r\n *\r\n * **Important: Each driver should export the exact same API to Patchfox**. This way we can\r\n * switch drivers without having to refactor the add-on.\r\n *\r\n * HOW IT WORKS:\r\n * Hermiebox is a browserified fat package of common NodeJS modules from our community and also\r\n * few highlevel API methods for common tasks. It uses WebSockets to connect to a running sbot\r\n * using muxrpc and shs stuff, so it needs your `secret` to be available.\r\n * \r\n * ATTENTION:\r\n * This is a legacy from when Patchfox was vanilla JS. I'm gonna need to refactor this a lot\r\n * \r\n * TODO: Refactor to use `ssb-query`\r\n */\r\n\r\n\r\nimport { getPref } from \"./utils\"\r\nimport { isMessageHidden } from \"./abusePrevention\"\r\n\r\nconst pull = hermiebox.modules.pullStream\r\nconst sort = hermiebox.modules.ssbSort\r\n\r\nlet sbot = false\r\n\r\nlet avatarCache = {}\r\n\r\nexport class SSB {\r\n\r\n    log(pMsg, pVal = \"\") {\r\n        console.log(`[SSB API] - ${pMsg}`, pVal)\r\n    }\r\n\r\n    async connect(pKeys) {\r\n        var server = await hermiebox.api.connect(pKeys)\r\n        this.log(\"you are\", server.id)\r\n        this.feed = server.id\r\n        sbot = server\r\n    }\r\n\r\n    filterLimit() {\r\n        let limit = getPref(\"limit\", 10)\r\n        return pull.take(limit)\r\n    }\r\n\r\n    filterWithUserFilters() {\r\n        return pull.filter(m => isMessageHidden(m))\r\n    }\r\n\r\n    filterTypes() {\r\n        let knownMessageTypes = {\r\n            \"post\": \"showTypePost\",\r\n            \"about\": \"showTypeAbout\",\r\n            \"vote\": \"showTypeVote\",\r\n            \"contact\": \"showTypeContact\",\r\n            \"pub\": \"showTypePub\",\r\n            \"blog\": \"showTypeBlog\",\r\n            \"channel\": \"showTypeChannel\"\r\n        }\r\n\r\n        let showUnknown = getPref(\"showTypeUnknown\", false)\r\n\r\n        if (showUnknown) {\r\n            return pull.filter(() => true);\r\n        }\r\n\r\n        return pull.filter(msg => {\r\n            let type = msg.value.content.type\r\n\r\n            if (typeof type == \"string\" && knownMessageTypes[type]) {\r\n                return getPref(knownMessageTypes[type], true)\r\n            }\r\n            return getPref(\"showTypeUnknown\", false)\r\n        })\r\n    }\r\n\r\n\r\n\r\n    public(opts) {\r\n        return new Promise((resolve, reject) => {\r\n\r\n            opts = opts || {}\r\n            opts.reverse = opts.reverse || true\r\n\r\n            console.log(\"opts\", opts)\r\n\r\n            pull(\r\n                sbot.createFeedStream(opts),\r\n                pull.filter(msg => msg && msg.value && msg.value.content),\r\n                this.filterTypes(),\r\n                this.filterWithUserFilters(),\r\n                this.filterLimit(),\r\n                pull.collect((err, msgs) => {\r\n                    console.log(\"msgs\", msgs)\r\n                    if (err) {\r\n                        reject(err)\r\n                    }\r\n\r\n                    resolve(msgs)\r\n                })\r\n            )\r\n        })\r\n    }\r\n\r\n    thread(id) {\r\n        return new Promise((resolve, reject) => {\r\n            sbot.get(id, (err, value) => {\r\n                if (err) return cb(err)\r\n                var rootMsg = { key: id, value: value }\r\n                pull(\r\n                    sbot.backlinks && sbot.backlinks.read ? sbot.backlinks.read({\r\n                        query: [\r\n                            {\r\n                                $filter: {\r\n                                    dest: id,\r\n                                    value: {\r\n                                        content: {\r\n\r\n                                            root: id\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        ]\r\n                    }) : pull(\r\n                        sbot.links({ dest: id, values: true, rel: 'root' }),\r\n                        pull.filter(function (msg) {\r\n                            var c = msg && msg.value && msg.value.content\r\n                            return c && c.type === 'post' && c.root === id\r\n                        }),\r\n                        pull.unique('key')\r\n                    ),\r\n                    this.filterTypes(),\r\n                    this.filterWithUserFilters(),\r\n                    this.filterLimit(),\r\n                    pull.collect((err, msgs) => {\r\n                        if (err) reject(err)\r\n                        resolve(sort([rootMsg].concat(msgs)))\r\n                    })\r\n                )\r\n            })\r\n        })\r\n    }\r\n\r\n    mentions(feed, lt) {\r\n        return new Promise((resolve, reject) => {\r\n            const createBacklinkStream = id => {\r\n                var filterQuery = {\r\n                    $filter: {\r\n                        dest: id\r\n                    }\r\n                };\r\n\r\n                if (lt) {\r\n                    filterQuery.$filter.value = { timestamp: { $lt: lt } };\r\n                }\r\n\r\n                return sbot.backlinks.read({\r\n                    query: [filterQuery],\r\n                    index: \"DTA\", // use asserted timestamps\r\n                    reverse: true,\r\n                });\r\n            };\r\n\r\n            const uniqueRoots = msg => {\r\n                return pull.filter(msg => {\r\n                    let msgKey = msg.key;\r\n                    if (msg.value.content.type !== \"post\") {\r\n                        return true;\r\n                    }\r\n                    let rootKey = msg.value.content.root || false;\r\n                    if (rootKey) {\r\n                        if (msgs.some(m => m.value.content.root === rootKey)) {\r\n                            return false;\r\n                        }\r\n                    }\r\n                    return true;\r\n                });\r\n            };\r\n\r\n            const mentionUser = msg => {\r\n                return pull.filter(msg => {\r\n                    if (msg.value.content.type !== \"post\") {\r\n                        return true;\r\n                    }\r\n                    let mentions = msg.value.content.mentions || [];\r\n                    if (mentions.some(m => m.link == sbot.id)) {\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                });\r\n            };\r\n\r\n            pull(\r\n                createBacklinkStream(sbot.id),\r\n                this.filterTypes(),\r\n                this.filterWithUserFilters(),\r\n                this.filterLimit(),\r\n                pull.collect((err, msgs) => {\r\n                    if (err) {\r\n                        reject(err)\r\n                    } else {\r\n                        resolve(msgs)\r\n                    }\r\n                })\r\n            );\r\n        })\r\n    }\r\n\r\n    async profile(feedid) {\r\n        try {\r\n            var user = await hermiebox.api.profile(feedid)\r\n            return user\r\n\r\n        } catch (n) {\r\n            console.error(n)\r\n            return false\r\n        }\r\n    }\r\n\r\n    async get(msgid) {\r\n        var msg = await hermiebox.api.get(msgid)\r\n        return msg\r\n    }\r\n\r\n    async setAvatarCache(feed, data) {\r\n        let s = {}\r\n        s[`avatar-${feed}`] = data\r\n        return browser.storage.local.set(s)\r\n    }\r\n\r\n    async getCachedAvatar(feed) {\r\n        return browser.storage.local.get(`avatar-${feed}`)\r\n    }\r\n\r\n    async avatar(feed) {\r\n        if (avatarCache[feed]) {\r\n            return avatarCache[feed]\r\n        }\r\n        try {\r\n            let avatar = await hermiebox.api.avatar(feed)\r\n            // await this.setAvatarCache(feed, avatar)\r\n            avatarCache[feed] = avatar\r\n            return avatar\r\n        } catch (n) {\r\n            throw n\r\n        }\r\n\r\n    }\r\n\r\n    async blurbFromMsg(msgid, howManyChars) {\r\n        let retVal = msgid\r\n\r\n        try {\r\n            let data = await ssb.get(msgid)\r\n\r\n            if (data.content.type == \"post\") {\r\n                retVal = this.plainTextFromMarkdown(data.content.text.slice(0, howManyChars) + \"...\")\r\n            }\r\n            return retVal\r\n        } catch (n) {\r\n            return retVal\r\n        }\r\n    }\r\n    plainTextFromMarkdown(text) {\r\n        // TODO: this doesn't belong here\r\n        let html = this.markdown(text)\r\n        let div = document.createElement(\"div\")\r\n        div.innerHTML = html\r\n        return div.innerText\r\n    }\r\n\r\n    markdown(text) {\r\n\r\n        function replaceMsgID(match, id, offset, string) {\r\n            let eid = encodeURIComponent(`%${id}`);\r\n\r\n            return `<a class=\"thread-link\" href=\"?thread=${eid}#/thread`;\r\n        }\r\n\r\n        function replaceChannel(match, id, offset, string) {\r\n            let eid = encodeURIComponent(id);\r\n\r\n            return `<a class=\"channel-link\" href=\"?channel=${eid}#/channel`;\r\n        }\r\n\r\n\r\n        function replaceFeedID(match, id, offset, string) {\r\n            let eid = encodeURIComponent(`@${id}`);\r\n            return \"<a class=\\\"profile-link\\\" href=\\\"?feed=\" + eid + \"#/profile\";\r\n        }\r\n\r\n\r\n        function replaceImageLinks(match, id, offset, string) {\r\n            return \"<a class=\\\"image-link\\\" target=\\\"_blank\\\" href=\\\"http://localhost:8989/blobs/get/&\" + encodeURIComponent(id);\r\n        }\r\n\r\n\r\n        function replaceImages(match, id, offset, string) {\r\n            return \"<img class=\\\"is-image-from-blob\\\" src=\\\"http://localhost:8989/blobs/get/&\" + encodeURIComponent(id);\r\n        }\r\n\r\n        let html = hermiebox.modules.ssbMarkdown.block(text)\r\n        html = html\r\n            .replace(/<pre>/gi, \"<pre class=\\\"code\\\">\")\r\n            .replace(/<a href=\"#([^\"]*)/gi, replaceChannel)\r\n            .replace(/<a href=\"@([^\"]*)/gi, replaceFeedID)\r\n            .replace(/target=\"_blank\"/gi, \"\")\r\n            .replace(/<a href=\"%([^\"]*)/gi, replaceMsgID)\r\n            .replace(/<img src=\"&([^\"]*)/gi, replaceImages)\r\n            .replace(/<a href=\"&([^\"]*)/gi, replaceImageLinks)\r\n\r\n        return html\r\n    }\r\n\r\n    ref() {\r\n        return hermiebox.modules.ssbRef\r\n    }\r\n\r\n    getTimestamp(msg) {\r\n        const arrivalTimestamp = msg.timestamp;\r\n        const declaredTimestamp = msg.value.timestamp;\r\n        return Math.min(arrivalTimestamp, declaredTimestamp);\r\n    }\r\n\r\n    getRootMsgId(msg) {\r\n        if (msg && msg.value && msg.value.content) {\r\n            const root = msg.value.content.root;\r\n            if (hermiebox.modules.ssbRef.isMsgId(root)) {\r\n                return root;\r\n            }\r\n        }\r\n    }\r\n\r\n    newPost(data) {\r\n        return new Promise((resolve, reject) => {\r\n            let msgToPost = { type: \"post\", text: data.text }\r\n\r\n            const commonFields = [\r\n                \"root\",\r\n                \"branch\",\r\n                \"channel\",\r\n                \"fork\",\r\n                \"contentWarning\"\r\n            ]\r\n\r\n            commonFields.forEach(f => {\r\n                if (typeof data[f] !== \"undefined\") {\r\n                    msgToPost[f] = data[f]\r\n                }\r\n            })\r\n\r\n            msgToPost.mentions = hermiebox.modules.ssbMentions(msgToPost.text) || []\r\n            msgToPost.mentions = msgToPost.mentions.filter(n => n) // prevent null elements...\r\n\r\n            const sbot = hermiebox.sbot || false\r\n\r\n            console.log(\"post\", msgToPost)\r\n\r\n            if (sbot) {\r\n                sbot.publish(msgToPost, function (err, msg) {\r\n                    if (err) {\r\n                        reject(err)\r\n                    } else {\r\n                        resolve(msg)\r\n                    }\r\n                })\r\n            } else {\r\n                reject(\"There is no sbot connection\")\r\n            }\r\n        })\r\n    }\r\n\r\n    follow(userId) {\r\n        return new Promise((resolve, reject) => {\r\n            const sbot = hermiebox.sbot || false\r\n\r\n            if (sbot) {\r\n                sbot.publish({\r\n                    type: \"contact\",\r\n                    contact: userId,\r\n                    following: true\r\n                }, (err, msg) => {\r\n                    // 'msg' includes the hash-id and headers\r\n                    if (err) {\r\n                        reject(err)\r\n                    } else {\r\n                        resolve(msg)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    getBlob(blobid) {\r\n        return hermiebox.api.getBlob(blobid)\r\n    }\r\n\r\n    votes(msgid) {\r\n        return new Promise((resolve, reject) => {\r\n            let pull = hermiebox.modules.pullStream\r\n            let sbot = hermiebox.sbot\r\n\r\n            if (sbot) {\r\n                pull(\r\n                    sbot.links({ dest: msgid, rel: \"vote\", values: true }),\r\n                    pull.collect((err, msgs) => {\r\n                        if (err) {\r\n                            reject(err)\r\n                        } else {\r\n                            resolve(msgs)\r\n                        }\r\n                    })\r\n                )\r\n            }\r\n        })\r\n    }\r\n\r\n    like(msgid) {\r\n        return new Promise((resolve, reject) => {\r\n\r\n            const sbot = hermiebox.sbot || false\r\n\r\n            const msgToPost = {\r\n                \"type\": \"vote\",\r\n                \"vote\": {\r\n                    \"link\": msgid,\r\n                    \"value\": 1,\r\n                    \"expression\": \"Like\"\r\n                }\r\n            }\r\n\r\n            if (sbot) {\r\n                sbot.publish(msgToPost, function (err, msg) {\r\n                    if (err) {\r\n                        reject(err)\r\n                    } else {\r\n                        resolve(msg)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    unlike(msgid) {\r\n        return new Promise((resolve, reject) => {\r\n            const sbot = hermiebox.sbot || false\r\n\r\n            const msgToPost = {\r\n                \"type\": \"vote\",\r\n                \"vote\": {\r\n                    \"link\": msgid,\r\n                    \"value\": 0,\r\n                    \"expression\": \"Unlike\"\r\n                }\r\n            }\r\n\r\n            if (sbot) {\r\n                sbot.publish(msgToPost, function (err, msg) {\r\n                    if (err) {\r\n                        reject(err)\r\n                    } else {\r\n                        resolve(msg)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    channels() {\r\n        return new Promise((resolve, reject) => {\r\n            let pull = hermiebox.modules.pullStream\r\n            let sbot = hermiebox.sbot || false\r\n\r\n            if (sbot) {\r\n                console.log(\"querying channels\")\r\n                pull(\r\n                    sbot.query.read({\r\n                        query: [\r\n                            { \"$filter\": { \"value\": { \"content\": { \"channel\": { \"$is\": \"string\" }, \"type\": \"post\" } } } },\r\n                            {\r\n                                \"$reduce\": {\r\n                                    \"channel\": [\"value\", \"content\", \"channel\"],\r\n                                    \"count\": { \"$count\": true },\r\n                                    \"timestamp\": { \"$max\": [\"value\", \"timestamp\"] }\r\n                                }\r\n                            },\r\n                            { \"$sort\": [[\"timestamp\"], [\"count\"]] }\r\n                        ],\r\n                        limit: 20\r\n                    }),\r\n                    pull.collect(function (err, data) {\r\n                        console.log(\"channels\", data)\r\n                        if (err) {\r\n                            reject(err)\r\n                        } else {\r\n                            resolve(data)\r\n                        }\r\n                    })\r\n                )\r\n            } else {\r\n                reject(\"no sbot\")\r\n            }\r\n        })\r\n    }\r\n\r\n    channel(channel, opts) {\r\n        return new Promise((resolve, reject) => {\r\n            let pull = hermiebox.modules.pullStream\r\n            let sbot = hermiebox.sbot || false\r\n            let query = {\r\n                \"$filter\": {\r\n                    value: {\r\n                        content: { channel }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (opts.lt) {\r\n                query.$filter.value.timestamp = { $lt: opts.lt }\r\n            }\r\n\r\n            if (sbot) {\r\n                pull(\r\n                    sbot.query.read({\r\n                        query: [\r\n                            query\r\n                        ],\r\n                        reverse: true\r\n                    }),\r\n                    this.filterTypes(),\r\n                    this.filterWithUserFilters(),\r\n                    this.filterLimit(),\r\n                    pull.collect(function (err, data) {\r\n                        if (err) {\r\n                            reject(err)\r\n                        } else {\r\n                            resolve(data)\r\n                        }\r\n                    })\r\n                )\r\n            } else {\r\n                reject(\"no sbot\")\r\n            }\r\n        })\r\n    }\r\n\r\n    channelSubscribe(channel) {\r\n        return new Promise((resolve, reject) => {\r\n            const sbot = hermiebox.sbot || false\r\n\r\n            const msgToPost = {\r\n                \"type\": \"channel\",\r\n                \"channel\": channel,\r\n                \"subscribed\": true\r\n            }\r\n\r\n            if (sbot) {\r\n                sbot.publish(msgToPost, function (err, msg) {\r\n                    if (err) {\r\n                        reject(err)\r\n                    } else {\r\n                        resolve(msg)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    channelUnsubscribe(channel) {\r\n        return new Promise((resolve, reject) => {\r\n            const sbot = hermiebox.sbot || false\r\n\r\n            const msgToPost = {\r\n                \"type\": \"channel\",\r\n                \"channel\": channel,\r\n                \"subscribed\": false\r\n            }\r\n\r\n            if (sbot) {\r\n                sbot.publish(msgToPost, function (err, msg) {\r\n                    if (err) {\r\n                        reject(err)\r\n                    } else {\r\n                        resolve(msg)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    channelSubscribed(channel, feed) {\r\n        return new Promise((resolve, reject) => {\r\n            let pull = hermiebox.modules.pullStream\r\n            let sbot = hermiebox.sbot || false\r\n\r\n            if (sbot) {\r\n                if (!feed) {\r\n                    feed = sbot.id\r\n                }\r\n\r\n                let query = {\r\n                    \"$filter\": {\r\n                        value: {\r\n                            author: feed,\r\n                            content: {\r\n                                type: \"channel\",\r\n                                channel\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n                pull(\r\n                    sbot.query.read({\r\n                        query: [\r\n                            query\r\n                        ],\r\n                        reverse: true\r\n                    }),\r\n                    pull.collect(function (err, data) {\r\n                        if (err) {\r\n                            reject(err)\r\n                        } else {\r\n                            if (data.length > 0) {\r\n                                resolve(data[0].value.content.subscribed || false)\r\n                            } else {\r\n                                resolve(false)\r\n                            }\r\n                        }\r\n                    })\r\n                )\r\n            } else {\r\n                reject(\"no sbot\")\r\n            }\r\n        })\r\n    }\r\n\r\n    subscribedChannels(channel, feed) {\r\n        return new Promise((resolve, reject) => {\r\n            let pull = hermiebox.modules.pullStream\r\n            let sbot = hermiebox.sbot || false\r\n\r\n            if (sbot) {\r\n                if (!feed) {\r\n                    feed = sbot.id\r\n                }\r\n\r\n                let query = {\r\n                    \"$filter\": {\r\n                        value: {\r\n                            author: feed,\r\n                            content: {\r\n                                type: \"channel\"\r\n                            }\r\n                        }\r\n                    },\r\n                    \"$map\": {\r\n                        channel: [\"value\", \"content\", \"channel\"],\r\n                        subscribed: [\"value\", \"content\", \"subscribed\"]\r\n                    },\r\n                    \"$sort\": [[\"value\", \"timestamp\"]]\r\n                }\r\n\r\n\r\n                pull(\r\n                    sbot.query.read({\r\n                        query: [\r\n                            query\r\n                        ],\r\n                        reverse: true\r\n                    }),\r\n                    pull.collect(function (err, data) {\r\n                        if (err) {\r\n                            reject(err)\r\n                        } else {\r\n                            resolve(data)\r\n                        }\r\n                    })\r\n                )\r\n            } else {\r\n                reject(\"no sbot\")\r\n            }\r\n        })\r\n    }\r\n\r\n    follow(feed) {\r\n        return new Promise((resolve, reject) => {\r\n            const sbot = hermiebox.sbot || false\r\n\r\n            const msgToPost = {\r\n                \"type\": \"contact\",\r\n                \"contact\": feed,\r\n                \"following\": true\r\n            }\r\n\r\n            if (sbot) {\r\n                sbot.publish(msgToPost, function (err, msg) {\r\n                    if (err) {\r\n                        reject(err)\r\n                    } else {\r\n                        resolve(msg)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    unfollow(feed) {\r\n        return new Promise((resolve, reject) => {\r\n            const sbot = hermiebox.sbot || false\r\n\r\n            const msgToPost = {\r\n                \"type\": \"contact\",\r\n                \"contact\": feed,\r\n                \"following\": false\r\n            }\r\n\r\n            if (sbot) {\r\n                sbot.publish(msgToPost, function (err, msg) {\r\n                    if (err) {\r\n                        reject(err)\r\n                    } else {\r\n                        resolve(msg)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    block(feed) {\r\n        return new Promise((resolve, reject) => {\r\n            const sbot = hermiebox.sbot || false\r\n\r\n            const msgToPost = {\r\n                \"type\": \"contact\",\r\n                \"contact\": feed,\r\n                \"blocking\": true\r\n            }\r\n\r\n            if (sbot) {\r\n                sbot.publish(msgToPost, function (err, msg) {\r\n                    if (err) {\r\n                        reject(err)\r\n                    } else {\r\n                        resolve(msg)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    unblock(feed) {\r\n        return new Promise((resolve, reject) => {\r\n            const sbot = hermiebox.sbot || false\r\n\r\n            const msgToPost = {\r\n                \"type\": \"contact\",\r\n                \"contact\": feed,\r\n                \"blocking\": false\r\n            }\r\n\r\n            if (sbot) {\r\n                sbot.publish(msgToPost, function (err, msg) {\r\n                    if (err) {\r\n                        reject(err)\r\n                    } else {\r\n                        resolve(msg)\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    following(feed, byWhom) {\r\n        return new Promise((resolve, reject) => {\r\n            let pull = hermiebox.modules.pullStream\r\n            let sbot = hermiebox.sbot || false\r\n\r\n            if (sbot) {\r\n                if (!byWhom) {\r\n                    byWhom = sbot.id\r\n                }\r\n\r\n                let query = {\r\n                    \"$filter\": {\r\n                        value: {\r\n                            author: byWhom,\r\n                            content: {\r\n                                type: \"contact\",\r\n                                contact: feed,\r\n                                following: { $is: \"boolean\" }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n                pull(\r\n                    sbot.query.read({\r\n                        query: [\r\n                            query\r\n                        ],\r\n                        reverse: true\r\n                    }),\r\n                    pull.collect(function (err, data) {\r\n                        if (err) {\r\n                            reject(err)\r\n                        } else {\r\n                            if (data.length > 0) {\r\n                                resolve(data[0].value.content.following || false)\r\n                            } else {\r\n                                resolve(false)\r\n                            }\r\n                        }\r\n                    })\r\n                )\r\n            } else {\r\n                reject(\"no sbot\")\r\n            }\r\n        })\r\n    }\r\n\r\n    blocking(feed, byWhom) {\r\n        return new Promise((resolve, reject) => {\r\n            let pull = hermiebox.modules.pullStream\r\n            let sbot = hermiebox.sbot || false\r\n\r\n            if (sbot) {\r\n                if (!byWhom) {\r\n                    byWhom = sbot.id\r\n                }\r\n\r\n                let query = {\r\n                    \"$filter\": {\r\n                        value: {\r\n                            author: byWhom,\r\n                            content: {\r\n                                type: \"contact\",\r\n                                contact: feed,\r\n                                blocking: { $is: \"boolean\" }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n                pull(\r\n                    sbot.query.read({\r\n                        query: [\r\n                            query\r\n                        ],\r\n                        reverse: true\r\n                    }),\r\n                    pull.collect(function (err, data) {\r\n                        if (err) {\r\n                            reject(err)\r\n                        } else {\r\n                            if (data.length > 0) {\r\n                                resolve(data[0].value.content.blocking || false)\r\n                            } else {\r\n                                resolve(false)\r\n                            }\r\n                        }\r\n                    })\r\n                )\r\n            } else {\r\n                reject(\"no sbot\")\r\n            }\r\n        })\r\n    }\r\n\r\n    query(filter, reverse, map, reduce) {\r\n        return new Promise((resolve, reject) => {\r\n            if (sbot) {\r\n\r\n                let query = {\r\n                    \"$filter\": filter\r\n                }\r\n\r\n                if (map) {\r\n                    query.$map = map\r\n                }\r\n\r\n                if (reduce) {\r\n                    query.$reduce = reduce\r\n                }\r\n\r\n                if (typeof reverse == \"undefined\") {\r\n                    reverse = true\r\n                }\r\n\r\n                pull(\r\n                    sbot.query.read({\r\n                        query: [\r\n                            query\r\n                        ],\r\n                        reverse: reverse\r\n                    }),\r\n                    this.filterTypes(),\r\n                    this.filterLimit(),\r\n                    pull.collect((err, data) => {\r\n                        if (err) {\r\n                            reject(err)\r\n                        } else {\r\n                            resolve(data)\r\n                        }\r\n                    })\r\n                )\r\n            } else {\r\n                reject(\"no sbot\")\r\n            }\r\n        })\r\n    }\r\n}\r\n","import { writable, derived } from \"svelte/store\";\r\nimport { SSB } from \"./ssb\";\r\n\r\nimport queryString from \"query-string\";\r\nimport Public from \"./views/Public.svelte\";\r\nimport Default from \"./views/Default.svelte\";\r\nimport Compose from \"./views/Compose.svelte\";\r\nimport Thread from \"./views/Thread.svelte\";\r\nimport Profile from \"./views/Profile.svelte\";\r\nimport ErrorView from \"./views/ErrorView.svelte\";\r\nimport Channels from \"./views/Channels.svelte\"\r\nimport Channel from \"./views/Channel.svelte\"\r\nimport Settings from \"./views/Settings.svelte\"\r\nimport Mentions from \"./views/Mentions.svelte\"\r\n\r\nlet savedData = {}\r\n\r\nexport const parseLocation = () => {\r\n  let data = queryString.parse(window.location.search)\r\n  let loc = window.location.hash.slice(1).replace(\"?\", \"\")\r\n  return { data, location: loc }\r\n};\r\n\r\nexport const intercept = () => {\r\n  let r = parseLocation()\r\n  if (r.location == \"/intercept\" && r.data.query) {\r\n    let hash = r.data.query.replace(\"ssb:\", \"\")\r\n    let sigil = hash[0]\r\n    switch (sigil) {\r\n      case \"%\":\r\n        window.location = `/index.html?thread=${encodeURIComponent(hash)}#/thread`\r\n        break\r\n      case \"&\":\r\n        window.location = `http://localhost:8989/blobs/get/${hash}`\r\n        break\r\n      case \"@\":\r\n        window.location = `/index.html?feed=${encodeURIComponent(hash)}#/profile`\r\n        break\r\n      case \"#\":\r\n        window.location = `/index.html?channel=${hash.replace(\"#\",\"\")}#/channel` \r\n        break\r\n    }\r\n  }\r\n}\r\n\r\nexport const connected = writable(false);\r\n\r\n// maybe in the future, migrate routing system to:\r\n// https://github.com/ItalyPaleAle/svelte-spa-router\r\nexport const route = writable(parseLocation());\r\nexport const routeParams = derived(route, $route => $route.data)\r\nexport const routeLocation = derived(route, $route => $route.location)\r\n\r\nexport const navigate = (location, data) => {\r\n  data = data || {}\r\n  route.set({ location, data });\r\n  let dataAsQuery = queryString.stringify(data);\r\n  history.pushState({ location, data }, `Patchfox - ${location}`, `/index.html?${dataAsQuery}#${location}`);\r\n  console.log(`Navigate ${location}`, data);\r\n};\r\n\r\n\r\nconst routes = {\r\n  \"/thread\": Thread,\r\n  \"/public\": Public,\r\n  \"/compose\": Compose,\r\n  \"/profile\": Profile,\r\n  \"/error\": ErrorView,\r\n  \"/channels\": Channels,\r\n  \"/channel\": Channel,\r\n  \"/settings\": Settings,\r\n  \"/mentions\": Mentions,\r\n  \"*\": Default\r\n};\r\n\r\n\r\n\r\nexport const currentView = derived([connected, route], ([$connected, $route]) => {\r\n  let r = $route.location\r\n  if ($connected) {\r\n    if (routes.hasOwnProperty(r)) {\r\n      return routes[r];\r\n    } else {\r\n      console.log(\"didn't find\", r);\r\n      return routes[\"*\"];\r\n    }\r\n  } else {\r\n    if (r === \"/settings\") {\r\n      return Settings\r\n    } else {\r\n      return routes[\"*\"];\r\n    }\r\n  }\r\n\r\n\r\n});\r\n\r\n\r\n/// connection stuff\r\n\r\nconst configurationMissing = () => {\r\n  console.log(\"config missing\");\r\n  window.location = \"/docs/index.html#/troubleshooting/no-configuration\";\r\n};\r\n\r\nconst cantConnect = () => {\r\n  console.log(\"config missing\");\r\n  window.location = \"/docs/index.html#/troubleshooting/no-connection\";\r\n};\r\n\r\nexport const loadConfiguration = async () => {\r\n  console.log(\"Loading configuration...\")\r\n  try {\r\n    let data = await browser.storage.local.get()\r\n\r\n    if (data.hasOwnProperty(\"keys\")) {\r\n      savedData = data\r\n    } else {\r\n      throw \"Configuration is missing\"\r\n    }\r\n  } catch (n) {\r\n    throw \"Configuration is missing\"\r\n  }\r\n}\r\n\r\nexport const connect = async () => {\r\n  console.log(\"Connecting to sbot...\")\r\n  window.ssb = new SSB();\r\n\r\n  try {\r\n    await ssb.connect(savedData.keys)\r\n    connected.set(true);\r\n  } catch (err) {\r\n    console.error(\"can't connect\", err);\r\n    connected.set(false)\r\n    throw \"Can't connect to sbot\"\r\n  }\r\n}\r\n\r\nexport const reconnect = () => {\r\n  return new Promise((resolve, reject) => {\r\n    const tryConnect = (data) => {\r\n      window.ssb = new SSB();\r\n\r\n      ssb\r\n        .connect(data.keys)\r\n        .then(data => {\r\n          console.log(\"connected\");\r\n          connected.set(true);\r\n          resolve()\r\n        })\r\n        .catch(err => {\r\n          console.error(\"can't reconnect\", err);\r\n          reject(err);\r\n        });\r\n    }\r\n\r\n    browser.storage.local\r\n      .get()\r\n      .then(tryConnect, reject);\r\n  })\r\n}\r\n\r\nexport const keepPinging = () => {\r\n  let interval = setInterval(() => {\r\n    if (hermiebox.sbot) {\r\n      hermiebox.sbot.whoami((err, v) => {\r\n        if (err) {\r\n          console.error(\"can't call whoami\", err);\r\n          reconnect().catch(n => {\r\n            console.error(\"can't reconnect\");\r\n            clearInterval(interval);\r\n            navigate(\"/error\", { error: n });\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }, 5000);\r\n}\r\n\r\n// Preferences\r\n\r\nexport const getPref = (key, defaultValue) => {\r\n  if (savedData.preferences) {\r\n    if (savedData.preferences.hasOwnProperty(key)) {\r\n      return savedData.preferences[key]\r\n    }\r\n  }\r\n  return defaultValue\r\n}\r\n\r\nexport const setConnectionConfiguration = ({ keys, remote, manifest }) => {\r\n  savedData.keys = keys\r\n  savedData.remote = remote\r\n  savedData.manifest = manifest\r\n\r\n  browser.storage.local.set(savedData)\r\n\r\n}\r\n\r\nexport const setPref = (key, value) => {\r\n  savedData.preferences = savedData.preferences || {}\r\n  savedData.preferences[key] = value\r\n\r\n  browser.storage.local.set(savedData)\r\n}\r\n","<script>\r\n  import MessageRenderer from \"../messageTypes/MessageRenderer.svelte\";\r\n  import { navigate, routeParams, getPref } from \"../utils.js\";\r\n  import { onMount, onDestroy } from \"svelte\";\r\n\r\n  let msgs = false;\r\n  let error = $routeParams.error || false;\r\n  let channel = $routeParams.channel || false;\r\n  let subscribed = false;\r\n\r\n  if (!channel) {\r\n    console.log(\"can't navigate to unnamed channel, going back to public\");\r\n    location = \"index.html#/public\"; // force reload.\r\n  }\r\n\r\n  let opts = {\r\n    limit: $routeParams.limit || getPref(\"limit\", 10),\r\n    reverse: true\r\n  };\r\n\r\n  ssb.channelSubscribed(channel).then(s => (subscribed = s));\r\n\r\n  // todo: move back into using stores.\r\n  $: {\r\n    Object.assign(opts, $routeParams);\r\n\r\n    document.title = `Patchfox - #${channel}`;\r\n\r\n    if (opts.hasOwnProperty(\"lt\")) {\r\n      opts.lt = parseInt(opts.lt);\r\n    }\r\n\r\n    if (opts.hasOwnProperty(\"limit\")) {\r\n      opts.limit = parseInt(opts.limit);\r\n    }\r\n\r\n    let promise = ssb\r\n      .channel(channel, opts)\r\n      .then(ms => {\r\n        console.log(\"msg\", ms);\r\n        msgs = ms;\r\n        window.scrollTo(0, 0);\r\n      })\r\n      .catch(n => {\r\n        if (!error) {\r\n          console.error(\"errrrooooor\", n);\r\n        }\r\n      });\r\n  }\r\n\r\n  const subscriptionChanged = ev => {\r\n    let v = ev.target.checked;\r\n    if (v) {\r\n      ssb.channelSubscribe(channel).catch(() => (subscribed = false));\r\n    } else {\r\n      ssb.channelUnsubscribe(channel).catch(() => (subscribed = true));\r\n    }\r\n  };\r\n\r\n  const goNext = () => {\r\n    navigate(\"/channel\", {\r\n      channel,\r\n      lt: msgs[msgs.length - 1].rts\r\n    });\r\n  };\r\n  const goPrevious = () => {\r\n    history.back();\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .menu-right {\r\n    right: 0px;\r\n    left: unset;\r\n    min-width: 300px;\r\n  }\r\n</style>\r\n\r\n<div class=\"container\">\r\n  <div class=\"columns\">\r\n    <div class=\"column\">\r\n      <h4>Channel: #{channel} </h4>\r\n    </div>\r\n    <div class=\"column\">\r\n      <label class=\"form-switch float-right\">\r\n        <input\r\n          type=\"checkbox\"\r\n          on:change={subscriptionChanged}\r\n          bind:checked={subscribed} />\r\n        <i class=\"form-icon\" />\r\n        Subscribe\r\n      </label>\r\n      <button\r\n        class=\"btn btn-link float-right\"\r\n        href=\"?channel={channel}#/compose\"\r\n        on:click|preventDefault={() => navigate('/compose', { channel })}>\r\n        New Post\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n{#if error}\r\n  <div class=\"toast toast-error\">Error: {error}</div>\r\n{/if}\r\n{#if !msgs}\r\n  <div class=\"loading loading-lg\" />\r\n{:else}\r\n  {#each msgs as msg (msg.key)}\r\n    <MessageRenderer {msg} />\r\n  {:else}\r\n    <p>No messages.</p>\r\n  {/each}\r\n  <ul class=\"pagination\">\r\n    <li class=\"page-item page-previous\">\r\n      <a href=\"#/public\" on:click|stopPropagation|preventDefault={goPrevious}>\r\n        <div class=\"page-item-subtitle\">Previous</div>\r\n      </a>\r\n    </li>\r\n    <li class=\"page-item page-next\">\r\n      <a href=\"#/public\" on:click|stopPropagation|preventDefault={goNext}>\r\n        <div class=\"page-item-subtitle\">Next</div>\r\n      </a>\r\n    </li>\r\n  </ul>\r\n{/if}\r\n","<script>\r\n  // NOTICE:\r\n  // I've removed this view from the navigation.\r\n  //\r\n  // it is too slow, it takes about 60 seconds to query.\r\n  //\r\n\r\n  import { navigate } from \"../utils.js\";\r\n\r\n  let activeChannels = [];\r\n  let subscribedChannels = [];\r\n\r\n  let loading = true;\r\n\r\n  let pull = hermiebox.modules.pullStream;\r\n  let sbot = hermiebox.sbot;\r\n\r\n  const loadSubscribedChannels = () => {\r\n    let query = {\r\n      $filter: {\r\n        value: {\r\n          author: sbot.id,\r\n          content: {\r\n            type: \"channel\"\r\n          }\r\n        }\r\n      },\r\n      $sort: [[\"value\", \"timestamp\"]]\r\n    };\r\n    pull(\r\n      sbot.query.read({\r\n        query: [query],\r\n        live: true,\r\n        reverse: true,\r\n        limit: 500\r\n      }),\r\n      //pull.filter(c => {\r\n      //  !subscribedChannels.some(sc => sc.channel == c.channel);\r\n      //}),\r\n      pull.drain(c => {\r\n        if (c.sync) {\r\n          console.log(\"finished loading\");\r\n          loading = false;\r\n        } else {\r\n          if (c.value.content.subscribed) {\r\n            subscribedChannels.push(c.value.content.channel);\r\n            subscribedChannels = subscribedChannels;\r\n          }\r\n        }\r\n      })\r\n    );\r\n  };\r\n\r\n  loadSubscribedChannels();\r\n</script>\r\n\r\n<style>\r\n  .channel {\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n\r\n<h4>Subscribed Channels</h4>\r\n\r\n{#if subscribedChannels.length == 0}\r\n  <div class=\"loading\" />\r\n\r\n  <p>This is a complex query, it might take a while... Channels will appear as we find them</p>\r\n{:else}\r\n  {#each subscribedChannels as c}\r\n    <span\r\n      class=\"channel label label-secondary m-1\"\r\n      on:click={() => navigate('/channel', { channel: c })}>\r\n       #{c}\r\n    </span>\r\n  {/each}\r\n{/if}\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./Channels.svelte.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!./Channels.svelte.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./Channels.svelte.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","<script>\r\n  import { onMount } from \"svelte\";\r\n  import drop from \"drag-and-drop-files\";\r\n  import { slide } from \"svelte/transition\";\r\n  import { navigate, routeParams, reconnect, getPref } from \"../utils.js\";\r\n  import AvatarChip from \"../parts/AvatarChip.svelte\";\r\n\r\n  let showPreview = false;\r\n  let msg = false;\r\n  let error = false;\r\n  let posting = false;\r\n\r\n  let root = $routeParams.root;\r\n  let branch = $routeParams.branch;\r\n  let channel = $routeParams.channel || \"\";\r\n  let content = $routeParams.content || \"\";\r\n  let replyfeed = $routeParams.replyfeed || false;\r\n  let fork = $routeParams.fork;\r\n  let fileOnTop = false;\r\n  let pull = hermiebox.modules.pullStream;\r\n  let fileReader = hermiebox.modules.pullFileReader;\r\n  let sbot = hermiebox.sbot;\r\n  let ipfsDaemonRunning = false;\r\n\r\n  document.title = `Patchfox - compose`;\r\n\r\n  onMount(() => {\r\n    error = false;\r\n    msg = \"\";\r\n\r\n    // this code could be in some better/smarter place.\r\n    // e.dataTransfer.getData('url'); from images in the browser window\r\n\r\n    drop(document.getElementById(\"content\"), files => readFileAndAttach(files));\r\n    checkIpfsDaemon();\r\n  });\r\n\r\n  const checkIpfsDaemon = () => {\r\n    let port = getPref(\"ipfsPort\", 5001);\r\n    fetch(`http://127.0.0.1:${port}/api/v0/config/show`).then(data => {\r\n      ipfsDaemonRunning = true;\r\n    });\r\n  };\r\n\r\n  const readFileAndAttach = files => {\r\n    error = false;\r\n    msg = \"\";\r\n\r\n    if (files.length == 0) {\r\n      fileOnTop = false;\r\n      console.log(\"this is not a file\");\r\n      return false;\r\n    }\r\n\r\n    var first = files[0];\r\n    console.log(first);\r\n\r\n    if (!first.type.startsWith(\"image\")) {\r\n      error = true;\r\n      msg = `You can only drag & drop image, this file is a ${first.type}`;\r\n      return false;\r\n    }\r\n\r\n    if (first.size >= 5000000) {\r\n      error = true;\r\n      msg = `File too large: ${Math.floor(\r\n        first.size / 1048576,\r\n        2\r\n      )}mb when max size is 5mb`;\r\n      return false;\r\n    }\r\n\r\n    pull(\r\n      fileReader(first),\r\n      sbot.blobs.add(function(err, hash) {\r\n        // 'hash' is the hash-id of the blob\r\n        if (err) {\r\n          error = true;\r\n          msg = \"Couldn't attach file: \" + err;\r\n        } else {\r\n          content += ` ![${first.name}](${hash})`;\r\n        }\r\n        fileOnTop = false;\r\n      })\r\n    );\r\n  };\r\n\r\n  const post = async ev => {\r\n    ev.stopPropagation();\r\n    ev.preventDefault();\r\n\r\n    if (!posting) {\r\n      posting = true;\r\n\r\n      if (channel.startsWith(\"#\")) {\r\n        channel = channel.slice(1);\r\n      }\r\n\r\n      try {\r\n        msg = await ssb.newPost({\r\n          text: content,\r\n          channel,\r\n          root,\r\n          branch,\r\n          fork,\r\n          contentWarning: contentWarning.length > 0 ? contentWarning : undefined\r\n        });\r\n        posting = false;\r\n        console.log(\"posted\", msg);\r\n        window.scrollTo(0, 0);\r\n      } catch (n) {\r\n        error = true;\r\n        msg = `Couldn't post your message: ${n}`;\r\n        window.scrollTo(0, 0);\r\n\r\n        if (msg.message == \"stream is closed\") {\r\n          msg += \". We lost connection to sbot. We'll try to restablish it...\";\r\n\r\n          reconnect()\r\n            .then(() => {\r\n              showPreview = false;\r\n              posting = false;\r\n              error = false;\r\n              msg = \"Connection to sbot reestablished. Try posting again\";\r\n            })\r\n            .catch(err => {\r\n              window.location.search = `?root=${encodeURIComponent(\r\n                root\r\n              )}&branch=${encodeURIComponent(\r\n                branch\r\n              )}&content=${encodeURIComponent(\r\n                content\r\n              )}&channel=${encodeURIComponent(channel)}`;\r\n              msg = `Sorry, couldn't reconnect to sbot:${err}. Try reloading the page. Your content has been saved to the URL`;\r\n            });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const preview = ev => {\r\n    showPreview = true;\r\n  };\r\n\r\n  const saveToURL = ev => {\r\n    window.location.search = `?root=${encodeURIComponent(\r\n      root\r\n    )}&branch=${encodeURIComponent(branch)}&content=${encodeURIComponent(\r\n      content\r\n    )}&channel=${encodeURIComponent(channel)}`;\r\n  };\r\n\r\n  const avatarClick = ev => {\r\n    let feed = ev.detail.feed;\r\n    let name = ev.detail.name;\r\n\r\n    if (content.length > 0) {\r\n      content += ` [${name}](${feed})`;\r\n    } else {\r\n      content = `[${name}](${feed})`;\r\n    }\r\n  };\r\n\r\n  const dragOver = ev => {\r\n    fileOnTop = true;\r\n  };\r\n\r\n  const dragLeave = ev => {\r\n    fileOnTop = false;\r\n  };\r\n\r\n  const attachFileTrigger = () => {\r\n    document.getElementById(\"fileInput\").click();\r\n  };\r\n\r\n  const attachFileIPFSTrigger = () => {\r\n    document.getElementById(\"fileInputIPFS\").click();\r\n  };\r\n\r\n  const attachFile = ev => {\r\n    const files = ev.target.files;\r\n    readFileAndAttach(files);\r\n  };\r\n\r\n  const attachFileIPFS = ev => {\r\n    const files = ev.target.files;\r\n    readFileAndAttachIPFS(files);\r\n  };\r\n\r\n  const readFileAndAttachIPFS = async files => {\r\n    error = false;\r\n    msg = \"\";\r\n\r\n    var ipfs = window.IpfsHttpClient(\"127.0.0.1\", \"5001\");\r\n    const results = await ipfs.add(files[0]);\r\n\r\n    console.log(\"added via IPFS\", results);\r\n    content += ` [${results[0].path}](ipfs://${results[0].hash})`;\r\n  };\r\n\r\n  let showContentWarningField = false;\r\n\r\n  const toggleContentWarning = () =>\r\n    (showContentWarningField = !showContentWarningField);\r\n\r\n  let contentWarning = \"\";\r\n</script>\r\n\r\n<style>\r\n  .file-on-top {\r\n    border: solid 2px rgb(26, 192, 11);\r\n  }\r\n\r\n  input[type=\"file\"] {\r\n    display: none;\r\n  }\r\n</style>\r\n\r\n<div class=\"container\">\r\n  <div class=\"columns\">\r\n    <div class=\"column\">\r\n      {#if fork}\r\n        <div class=\"toast toast-warning\">You are forking: {fork}</div>\r\n      {/if}\r\n      {#if msg}\r\n        {#if error}\r\n          <div class=\"toast toast-error\">{msg}</div>\r\n        {:else}\r\n          <div class=\"toast toast-success\">\r\n            Your message has been posted. Do you want to\r\n            <a\r\n              target=\"_blank\"\r\n              href=\"?thread={encodeURIComponent(msg.key)}#/thread\">\r\n              Check it out?\r\n            </a>\r\n          </div>\r\n        {/if}\r\n      {/if}\r\n      {#if !showPreview}\r\n        <div class=\"form-group\" in:slide out:slide>\r\n          <label class=\"form-label\" for=\"channel\">Channel</label>\r\n          <input\r\n            class=\"form-input\"\r\n            type=\"text\"\r\n            id=\"channel\"\r\n            placeholder=\"channel\"\r\n            bind:value={channel} />\r\n\r\n          {#if branch}\r\n            <label class=\"form-label\" for=\"reply-to\">In reply to</label>\r\n            <input\r\n              class=\"form-input\"\r\n              type=\"text\"\r\n              id=\"reply-to\"\r\n              placeholder=\"in reply to\"\r\n              bind:value={branch} />\r\n          {/if}\r\n\r\n          {#if replyfeed}\r\n            <div class=\"mt-2\">\r\n              <span>\r\n                Click the avatar to add a link to the message:\r\n                <AvatarChip feed={replyfeed} on:avatarClick={avatarClick} />\r\n              </span>\r\n            </div>\r\n          {/if}\r\n          <label class=\"form-label\" for=\"content\">Message</label>\r\n          <textarea\r\n            class=\"form-input\"\r\n            id=\"content\"\r\n            placeholder=\"Type in your post\"\r\n            rows=\"10\"\r\n            on:dragover|preventDefault|stopPropagation={dragOver}\r\n            on:dragleave|preventDefault|stopPropagation={dragLeave}\r\n            class:file-on-top={fileOnTop}\r\n            bind:value={content} />\r\n          <div class=\"d-block m-2\">\r\n            <button class=\"btn btn-link\" on:click={toggleContentWarning}>\r\n              CW\r\n            </button>\r\n            {#if showContentWarningField}\r\n              <input\r\n                type=\"text\"\r\n                size=\"50\"\r\n                bind:value={contentWarning}\r\n                placeholder=\"Describe your content warning (leave empty to no use it)\" />\r\n            {/if}\r\n          </div>\r\n          <input type=\"file\" on:input={attachFile} id=\"fileInput\" />\r\n          <button class=\"btn\" on:click={attachFileTrigger}>Attach File</button>\r\n          {#if ipfsDaemonRunning}\r\n            <input type=\"file\" on:input={attachFileIPFS} id=\"fileInputIPFS\" />\r\n            <button class=\"btn\" on:click={attachFileIPFSTrigger}>\r\n              Attach File using IPFS\r\n            </button>\r\n          {/if}\r\n          <button class=\"btn btn-primary float-right\" on:click={preview}>\r\n            Preview\r\n          </button>\r\n        </div>\r\n      {:else}\r\n        <div class=\"column col-md-12\">\r\n          <h2>Post preview</h2>\r\n          {#if channel || root || branch || contentWarning.length > 0}\r\n            <blockquote>\r\n              {#if channel}\r\n                <p>\r\n                  <b>Channel:</b>\r\n                  {channel.startsWith('#') ? channel.slice(1) : channel}\r\n                </p>\r\n              {/if}\r\n              {#if root}\r\n                <p>\r\n                  <b>Root:</b>\r\n                  {root}\r\n                </p>\r\n              {/if}\r\n              {#if branch}\r\n                <p>\r\n                  <b>In Reply To:</b>\r\n                  {branch}\r\n                </p>\r\n              {/if}\r\n              {#if contentWarning.length > 0}\r\n                <p>\r\n                  <b>Content Warning:</b>\r\n                  {contentWarning}\r\n                </p>\r\n              {/if}\r\n            </blockquote>\r\n          {/if}\r\n          {@html ssb.markdown(content)}\r\n\r\n          <div class=\"divider\" />\r\n          <div class=\"columns\">\r\n            <div class=\"column col-md-12 col-lg-10\">\r\n              <span class=\"label label-warning\">\r\n                This message will be public and can't be edited or deleted\r\n              </span>\r\n            </div>\r\n            <div class=\"column col-md-12 col-lg-2\">\r\n              <button class=\"btn\" on:click={() => (showPreview = false)}>\r\n                Go Back\r\n              </button>\r\n              <button\r\n                class=\"btn btn-primary\"\r\n                class:loading={posting}\r\n                on:click={post}>\r\n                Post\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      {/if}\r\n    </div>\r\n  </div>\r\n</div>\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./Compose.svelte.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!./Compose.svelte.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./Compose.svelte.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","<script>\r\n  import { navigate, routeParams, reconnect } from \"../utils.js\";\r\n\r\n  document.title = `Patchfox - Error`;\r\n\r\n  let error = $routeParams.error;\r\n  let errorObj = {};\r\n  let toastClass = \"\";\r\n  let toast = false;\r\n  let msg;\r\n  let cta = false;\r\n\r\n  console.dir(error);\r\n  if (typeof error == \"object\") {\r\n    errorObj = error;\r\n    error = errorObj.message;\r\n  }\r\n\r\n  const tryReconnect = () => {\r\n    toast = true;\r\n    toastClass = \"toast-warning\";\r\n    msg = \"Attempting to reconnect to sbot...\";\r\n    reconnect()\r\n      .then(() => {\r\n        toastClass = \"toast-success\";\r\n        toast = true;\r\n        msg =\r\n          \"Connection to sbot reestablished. Try going to your public feed.\";\r\n      })\r\n      .catch(n => {\r\n        toastClass = \"toast-error\";\r\n        toast = true;\r\n        msg = \"Couldn't reconnect. Try reloading the page.\";\r\n      });\r\n  };\r\n\r\n  let errorMapping = {\r\n    \"Error: stream is closed\": {\r\n      label: \"Want to try to reconnect?\",\r\n      action: tryReconnect\r\n    }\r\n  };\r\n\r\n  if (errorMapping.hasOwnProperty(error)) {\r\n    cta = errorMapping[error];\r\n  }\r\n</script>\r\n\r\n<div class=\"container\">\r\n  <h1> An Error Has Occurred, sorry </h1>\r\n  {#if toast}\r\n    <div class=\"toast {toastClass}\">{msg}</div>\r\n  {/if}\r\n  <h4>This is what we know about it</h4>\r\n  <pre class=\"code\">\r\n    <code>{error}</code>\r\n  </pre>\r\n  <p>You might want to:</p>\r\n  <ul>\r\n    {#if cta}\r\n      <li>\r\n        <a href=\"#\" on:click|stopPropagation|preventDefault={cta.action}>\r\n           {cta.label}\r\n        </a>\r\n      </li>\r\n    {/if}\r\n    <li>\r\n      <a href=\"/docs/index.html#/troubleshooting/\" target=\"_blank\">\r\n        Open our troubleshooting documentation.\r\n      </a>\r\n    </li>\r\n    <li>\r\n      <a href=\"https://github.com/soapdog/patchfox/issues\" target=\"_blank\">\r\n        Add an issue\r\n      </a>\r\n      to the Patchfox repository.\r\n    </li>\r\n  </ul>\r\n</div>\r\n","<script>\r\n  import MessageRenderer from \"../messageTypes/MessageRenderer.svelte\";\r\n  import { navigate, routeParams, getPref } from \"../utils.js\";\r\n  import { onDestroy, onMount } from \"svelte\";\r\n\r\n  let msgs = [];\r\n  let unsub;\r\n\r\n  document.title = `Patchfox - Mentions`;\r\n\r\n  let lt = false;\r\n\r\n  const pull = hermiebox.modules.pullStream;\r\n  const sbot = hermiebox.sbot;\r\n  \r\n\r\n  const loadMentions = () => {\r\n    console.log(\"Loading mentions...\", lt);\r\n    window.scrollTo(0, 0);\r\n    msgs = [];\r\n    ssb.mentions(ssb.feed, lt).then(ms => msgs = ms)\r\n  }; \r\n\r\n  onDestroy(() => {\r\n    unsub();\r\n  });\r\n\r\n  onMount(() => {\r\n    unsub = routeParams.subscribe(params => {\r\n      console.log(\"params changed.\", lt, params.lt);\r\n      if (params.lt) {\r\n        let newlt = parseInt(params.lt);\r\n        if (newlt !== lt) {\r\n          lt = newlt;\r\n        }\r\n      } else {\r\n        lt = false;\r\n      }\r\n      loadMentions();\r\n    });\r\n  });\r\n</script>\r\n\r\n<style>\r\n  .menu-right {\r\n    right: 0px;\r\n    left: unset;\r\n    min-width: 300px;\r\n  }\r\n</style>\r\n\r\n<div class=\"container\">\r\n  <div class=\"columns\">\r\n    <h4 class=\"column\">Mentions</h4>\r\n    <div class=\"column\" />\r\n  </div>\r\n</div>\r\n{#if msgs.length === 0}\r\n  <div class=\"loading loading-lg\" />\r\n{:else}\r\n  {#each msgs as msg (msg.key)}\r\n    <MessageRenderer {msg} />\r\n  {/each}\r\n  <ul class=\"pagination\">\r\n    <li class=\"page-item page-previous\">\r\n      <a\r\n        href=\"#/public\"\r\n        on:click|stopPropagation|preventDefault={() => history.back()}>\r\n        <div class=\"page-item-subtitle\">Previous</div>\r\n      </a>\r\n    </li>\r\n    <li class=\"page-item page-next\">\r\n      <a\r\n        href=\"#/public\"\r\n        on:click|stopPropagation|preventDefault={() => {\r\n          navigate('/mentions', { lt: msgs[msgs.length - 1].rts });\r\n        }}>\r\n        <div class=\"page-item-subtitle\">Next</div>\r\n      </a>\r\n    </li>\r\n  </ul>\r\n{/if}\r\n","<script>\r\n  import MessageRenderer from \"../messageTypes/MessageRenderer.svelte\";\r\n  import { navigate, routeParams } from \"../utils.js\";\r\n  let profile = false;\r\n\r\n  let description = false;\r\n  let following = false;\r\n  let blocking = false;\r\n  let image,\r\n    feed,\r\n    lastMsgs = [],\r\n    lastAbout;\r\n\r\n  // todo: move back into using stores.\r\n  feed = $routeParams.feed;\r\n\r\n  if (!feed) {\r\n    feed = ssb.feed;\r\n  }\r\n\r\n  let name = feed;\r\n\r\n  document.title = `Patchfox - Feed: ${feed}`;\r\n\r\n  console.log(\"fetching\", feed);\r\n\r\n  let avatarPromise = ssb.avatar(feed).then(data => {\r\n    name = data.name;\r\n    image = data.image;\r\n    document.title = `Patchfox - Feed: ${name}`;\r\n  });\r\n\r\n  let aboutPromise = ssb.profile(feed).then(data => {\r\n    lastAbout = data.about.reverse().find(m => {\r\n      let a = m.value.content;\r\n      return a.hasOwnProperty(\"description\");\r\n    });\r\n    try {\r\n      description = lastAbout.value.content.description;\r\n    } catch (n) {\r\n      description = \"\";\r\n    }\r\n    window.scrollTo(0, 0);\r\n  });\r\n\r\n  let messagePromise = ssb\r\n    .query(\r\n      {\r\n        value: {\r\n          author: feed \r\n        }\r\n      },\r\n      10\r\n    )\r\n    .then(msgs => {\r\n      lastMsgs = msgs;\r\n\r\n      window.scrollTo(0, 0);\r\n    });\r\n\r\n  if (feed !== ssb.feed) {\r\n    ssb.following(feed).then(f => (following = f));\r\n    ssb.blocking(feed).then(f => (blocking = f));\r\n  }\r\n\r\n  const blockingChanged = ev => {\r\n    let v = ev.target.checked;\r\n    if (v) {\r\n      ssb.block(feed).catch(() => (blocking = false));\r\n    } else {\r\n      ssb.unblock(feed).catch(() => (blocking = true));\r\n    }\r\n  };\r\n\r\n  const followingChanged = ev => {\r\n    let v = ev.target.checked;\r\n    if (v) {\r\n      ssb.follow(feed).catch(() => (following = false));\r\n    } else {\r\n      ssb.unfollow(feed).catch(() => (following = true));\r\n    }\r\n  };\r\n\r\n  // todo: refactor navigation here. This is a hack it shouldn't hide and show values which are\r\n  // not reloading.\r\n  const loadMoreMessages = lt => {\r\n    messagePromise = ssb\r\n      .query(\r\n        {\r\n          value: {\r\n            author: feed,\r\n            timestamp: { $lt: lt }\r\n          }\r\n        }\r\n      )\r\n      .then(msgs => {\r\n        lastMsgs = msgs;\r\n        window.scrollTo(0, 0);\r\n      });\r\n  };\r\n</script>\r\n\r\n<div class=\"container\">\r\n  {#await aboutPromise && avatarPromise}\r\n    <div class=\"loading loading-lg\" />\r\n  {:then}\r\n    <div class=\"columns\">\r\n\r\n      <div class=\"column col-6\">\r\n        <div class=\"container\">\r\n          <img\r\n            class=\"img-responsive\"\r\n            src=\"http://localhost:8989/blobs/get/{image}\"\r\n            alt={feed} />\r\n        </div>\r\n      </div>\r\n      <div class=\"column col-6\">\r\n        <h1>{name}</h1>\r\n        <pre>{feed}</pre>\r\n        {#if feed !== ssb.feed}\r\n          <div class=\"container\">\r\n            <div class=\"divider\" />\r\n            <div class=\"form-group\">\r\n              <label class=\"form-switch form-inline\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  on:change={followingChanged}\r\n                  bind:checked={following} />\r\n                <i class=\"form-icon\" />\r\n                following\r\n              </label>\r\n              <label class=\"form-switch form-inline\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  on:change={blockingChanged}\r\n                  bind:checked={blocking} />\r\n                <i class=\"form-icon\" />\r\n                blocking\r\n              </label>\r\n            </div>\r\n            <div class=\"divider\" />\r\n          </div>\r\n        {/if}\r\n        <p>\r\n          {@html ssb.markdown(description)}\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <div>\r\n      {#await messagePromise}\r\n        <div class=\"loading\" />\r\n      {:then data}\r\n        {#each lastMsgs as msg (msg.key)}\r\n          <MessageRenderer {msg} />\r\n        {/each}\r\n        <ul class=\"pagination\">\r\n\r\n          <li class=\"page-item page-next\">\r\n            <a\r\n              href=\"#/public\"\r\n              on:click|stopPropagation|preventDefault={() => {\r\n                loadMoreMessages(lastMsgs[lastMsgs.length - 1].value.timestamp);\r\n              }}>\r\n              <div class=\"page-item-subtitle\">Load More</div>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      {:catch n}\r\n        <p>Error fetching messages: {n.message}</p>\r\n\r\n      {/await}\r\n\r\n    </div>\r\n  {:catch n}\r\n    <p>Error: {n.message}</p>\r\n  {/await}\r\n</div>\r\n","<script>\r\n  import MessageRenderer from \"../messageTypes/MessageRenderer.svelte\";\r\n  import { navigate, routeParams, getPref } from \"../utils.js\";\r\n  import { onMount } from \"svelte\";\r\n\r\n  let msgs = false;\r\n  let error = $routeParams.error || false;\r\n  let dropdownActive = false;\r\n\r\n  let opts = {};\r\n\r\n  // todo: move back into using stores.\r\n  $: {\r\n    Object.assign(opts, $routeParams);\r\n\r\n    document.title = `Patchfox - Public`;\r\n\r\n    if (opts.hasOwnProperty(\"lt\")) {\r\n      opts.lt = parseInt(opts.lt);\r\n    }\r\n\r\n    if (opts.hasOwnProperty(\"limit\")) {\r\n      opts.limit = parseInt(opts.limit);\r\n    }\r\n\r\n    let promise = ssb\r\n      .public(opts)\r\n      .then(ms => {\r\n        msgs = ms;\r\n        window.scrollTo(0, 0);\r\n      })\r\n      .catch(n => {\r\n        if (!error) {\r\n          console.error(\"errrrooooor\", n);\r\n        }\r\n      });\r\n  }\r\n\r\n  const goNext = () => {\r\n    navigate(\"/public\", {\r\n      lt: msgs[msgs.length - 1].value.timestamp\r\n    });\r\n  };\r\n  const goPrevious = () => {\r\n    history.back();\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .menu-right {\r\n    right: 0px;\r\n    left: unset;\r\n    min-width: 300px;\r\n  }\r\n</style>\r\n\r\n<div class=\"container\">\r\n  <div class=\"columns\">\r\n    <h4 class=\"column\">Public Feed</h4>\r\n    <div class=\"column\" />\r\n  </div>\r\n</div>\r\n{#if error}\r\n  <div class=\"toast toast-error\">Error: {error}</div>\r\n{/if}\r\n{#if !msgs}\r\n  <div class=\"loading loading-lg\" />\r\n{:else}\r\n  {#each msgs as msg (msg.key)}\r\n    <MessageRenderer {msg} />\r\n  {/each}\r\n  <ul class=\"pagination\">\r\n    <li class=\"page-item page-previous\">\r\n      <a href=\"#/public\" on:click|stopPropagation|preventDefault={goPrevious}>\r\n        <div class=\"page-item-subtitle\">Previous</div>\r\n      </a>\r\n    </li>\r\n    <li class=\"page-item page-next\">\r\n      <a href=\"#/public\" on:click|stopPropagation|preventDefault={goNext}>\r\n        <div class=\"page-item-subtitle\">Next</div>\r\n      </a>\r\n    </li>\r\n  </ul>\r\n{/if}\r\n","<script>\r\n  import { onMount } from \"svelte\";\r\n  import {\r\n    getPref,\r\n    setPref,\r\n    setConnectionConfiguration,\r\n    navigate\r\n  } from \"../utils.js\";\r\n  import { getFilters, addFilter, deleteFilter } from \"../abusePrevention.js\";\r\n \r\n  let keys = {};\r\n  let remote = \"\";\r\n  let limit = getPref(\"limit\", 10);\r\n  let columnSize = getPref(\"columnSize\", \"short\");\r\n\r\n  document.title = \"Patchfox - Settings\";\r\n\r\n  // message type filters\r\n  let showTypeUnknown = getPref(\"showTypeUnknown\", false);\r\n  let showTypeAbout = getPref(\"showTypeAbout\", true);\r\n  let showTypeBlog = getPref(\"showTypeBlog\", true);\r\n  let showTypeChannel = getPref(\"showTypeChannel\", true);\r\n  let showTypeContact = getPref(\"showTypeContact\", true);\r\n  let showTypePost = getPref(\"showTypePost\", true);\r\n  let showTypePrivate = getPref(\"showTypePrivate\", true);\r\n  let showTypePub = getPref(\"showTypePub\", true);\r\n  let showTypeVote = getPref(\"showTypeVote\", true);\r\n\r\n  // Abuse Prevention - filters\r\n  let currentFilters = getFilters();\r\n  let filterFeed = \"\";\r\n  let filterChannel = \"\";\r\n  let filterKeywords = \"\";\r\n  let filterExpiry = \"\";\r\n  let filterAction = \"\";\r\n\r\n  const saveConfiguration = ev => {\r\n    setConnectionConfiguration({ remote, keys: JSON.parse(keys), manifest });\r\n    navigate(\"/public\");\r\n    location.reload();\r\n  };\r\n\r\n  const selectedFile = ev => {\r\n    const secretFile = ev.target.files[0];\r\n    const reader = new FileReader();\r\n    reader.onload = function(evt) {\r\n      console.log(evt.target.result);\r\n      const contents = evt.target.result;\r\n      let secret = contents.split(\"\\n\").filter(function(line) {\r\n        return line.indexOf(\"#\") != 0;\r\n      });\r\n      secret = JSON.parse(secret.join(\"\\n\"));\r\n      remote = `ws://localhost:8989~shs:${secret.id.slice(\r\n        0,\r\n        secret.id.indexOf(\"=\") + 1\r\n      )}`;\r\n      updateUI({ keys: secret, remote });\r\n    };\r\n    reader.readAsText(secretFile);\r\n  };\r\n\r\n  const updateUI = savedData => {\r\n    console.log(\"saved data from settings\", savedData);\r\n    remote = savedData.remote || \"\";\r\n    if (savedData.keys) {\r\n      keys = JSON.stringify(savedData.keys, null, 2);\r\n    } else {\r\n      keys = \"\";\r\n    }\r\n  };\r\n\r\n  const onError = error => {\r\n    console.error(\"error on settings\", error);\r\n  };\r\n\r\n  const gettingStoredSettings = browser.storage.local\r\n    .get()\r\n    .then(updateUI, onError);\r\n\r\n  const addNewFilter = () => {\r\n    let keywords = filterKeywords\r\n      .split(\",\")\r\n      .map(v => v.trim())\r\n      .filter(v => v.length !== 0);\r\n\r\n    let filter = {};\r\n    filter.action = filterAction.length !== 0 ? filterAction : false;\r\n    filter.feed = filterFeed.length !== 0 ? filterFeed : false;\r\n    filter.channel = filterChannel.length !== 0 ? filterChannel : false;\r\n    filter.keywords = keywords;\r\n    filter.expires = filterExpiry.length !== 0 ? filterExpiry : false;\r\n\r\n    if (filter.channel && filter.channel.startsWith(\"#\")) {\r\n      filter.channel = filter.channel.slice(1);\r\n    }\r\n\r\n    if (\r\n      filter.action &&\r\n      (filter.feed || filter.channel || filter.keywords.length > 0)\r\n    ) {\r\n      addFilter(filter);\r\n\r\n      currentFilters = getFilters();\r\n\r\n      console.dir(\"filters\", currentFilters);\r\n\r\n      filterFeed = \"\";\r\n      filterChannel = \"\";\r\n      filterKeywords = \"\";\r\n      filterExpiry = \"\";\r\n      filterAction = \"\";\r\n    } else {\r\n      alert(\"Fill at least filter action and one of feed, channel or keywords\");\r\n    }\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .filter {\r\n    height: 300px;\r\n    margin-bottom: 0.4rem;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .feed {\r\n    max-width: 100%;\r\n    overflow: hidden;\r\n  }\r\n</style>\r\n\r\n<h1>Settings</h1>\r\n<p>\r\n  Settings changes are saved as you make them except for identity and connection\r\n  changes, those require a full page reload and thus you need to press a save\r\n  button. The reason behind this is that Patchfox needs to disconnect and\r\n  reconnect to the\r\n  <i>ssb-server</i>\r\n  using the new info.\r\n</p>\r\n<p>\r\n  <b>\r\n    You can't use Patchfox until you fill your\r\n    <i>Connection & Identity</i>\r\n    information.\r\n    <a\r\n      href=\"/docs/index.html#/troubleshooting/no-configuration\"\r\n      target=\"_blank\">\r\n      If you want more help regarding connection and configuration click here\r\n    </a>\r\n    .\r\n  </b>\r\n</p>\r\n\r\n<h4>Connection & Identity</h4>\r\n\r\n<form class=\"form-group\">\r\n  <label class=\"form-label\" for=\"secret-file\">\r\n    Patchfox can infer the values for both\r\n    <i>remote</i>\r\n    and\r\n    <i>secret</i>\r\n    from your\r\n    <code>~/.ssb/secret</code>\r\n    file. You can use the button below to browse for it.\r\n  </label>\r\n  <input\r\n    type=\"file\"\r\n    class=\"form-input\"\r\n    id=\"secret-file\"\r\n    on:change={selectedFile} />\r\n  <label class=\"form-label\" for=\"remote\">Remote</label>\r\n  <input\r\n    class=\"form-input\"\r\n    type=\"text\"\r\n    id=\"remote\"\r\n    placeholder=\"remote\"\r\n    bind:value={remote} />\r\n\r\n  <label class=\"form-label\" for=\"secret\">Secret</label>\r\n  <textarea\r\n    class=\"form-input\"\r\n    id=\"secret\"\r\n    placeholder=\"Your secret\"\r\n    rows=\"8\"\r\n    bind:value={keys} />\r\n  <br />\r\n  <button class=\"btn btn-primary float-right\" on:click={saveConfiguration}>\r\n    Save Identity & Remote\r\n  </button>\r\n  <p>Saving identity and remote will cause a full page refresh.</p>\r\n</form>\r\n\r\n<h4>Vieweing Experience</h4>\r\n<form class=\"form-group\">\r\n  <label class=\"form-label\" for=\"limit\">Messages per page</label>\r\n  <input\r\n    class=\"form-input\"\r\n    type=\"number\"\r\n    bind:value={limit}\r\n    on:change={() => setPref('limit', limit)} />\r\n\r\n  <br />\r\n  <span>\r\n    Which message types you want to see?\r\n    <a target=\"_blank\" href=\"/docs/index.html#/message_types/\">\r\n      Click here for more information about\r\n      <i>Message Types</i>\r\n    </a>\r\n  </span>\r\n  <label class=\"form-switch\">\r\n    <input\r\n      type=\"checkbox\"\r\n      bind:checked={showTypeAbout}\r\n      on:change={ev => {\r\n        setPref('showTypeAbout', showTypeAbout);\r\n      }} />\r\n    <i class=\"form-icon\" />\r\n    <b>About</b>\r\n    (aka people setting avatars and descriptions; gatherings)\r\n  </label>\r\n  <label class=\"form-switch\">\r\n    <input\r\n      type=\"checkbox\"\r\n      bind:checked={showTypeBlog}\r\n      on:change={ev => {\r\n        setPref('showTypeBlog', showTypeBlog);\r\n      }} />\r\n    <i class=\"form-icon\" />\r\n    <b>Blog</b>\r\n    (Longform text posts)\r\n  </label>\r\n  <label class=\"form-switch\">\r\n    <input\r\n      type=\"checkbox\"\r\n      bind:checked={showTypeChannel}\r\n      on:change={ev => {\r\n        setPref('showTypeChannel', showTypeChannel);\r\n      }} />\r\n    <i class=\"form-icon\" />\r\n    <b>Channel</b>\r\n    (People subscribing to channels)\r\n  </label>\r\n  <label class=\"form-switch\">\r\n    <input\r\n      type=\"checkbox\"\r\n      bind:checked={showTypeContact}\r\n      on:change={ev => {\r\n        setPref('showTypeContact', showTypeContact);\r\n      }} />\r\n    <i class=\"form-icon\" />\r\n    <b>Contact</b>\r\n    (People following each other)\r\n  </label>\r\n  <label class=\"form-switch\">\r\n    <input\r\n      type=\"checkbox\"\r\n      bind:checked={showTypePost}\r\n      on:change={ev => {\r\n        setPref('showTypePost', showTypePost);\r\n      }} />\r\n    <i class=\"form-icon\" />\r\n    <b>Posts</b>\r\n    (Common content post, leave this on or it is not that fun)\r\n  </label>\r\n  <label class=\"form-switch\">\r\n    <input\r\n      type=\"checkbox\"\r\n      bind:checked={showTypePub}\r\n      on:change={ev => {\r\n        setPref('showTypePub', showTypePub);\r\n      }} />\r\n    <i class=\"form-icon\" />\r\n    <b>Pub</b>\r\n    (Pub servers announcements)\r\n  </label>\r\n\r\n  <label class=\"form-switch\">\r\n    <input\r\n      type=\"checkbox\"\r\n      bind:checked={showTypePrivate}\r\n      on:change={ev => {\r\n        setPref('showTypePrivate', showTypePrivate);\r\n      }} />\r\n    <i class=\"form-icon\" />\r\n    <b>Private</b>\r\n    (Private messages; You won't be able to read them, but you'll see their\r\n    encrypted content passing by)\r\n  </label>\r\n\r\n  <label class=\"form-switch\">\r\n    <input\r\n      type=\"checkbox\"\r\n      bind:checked={showTypeVote}\r\n      on:change={ev => {\r\n        setPref('showTypeVote', showTypeVote);\r\n      }} />\r\n    <i class=\"form-icon\" />\r\n    <b>Vote</b>\r\n    (People liking/digging stuff)\r\n  </label>\r\n  <div class=\"divider\" />\r\n  <label class=\"form-switch\">\r\n    <input\r\n      type=\"checkbox\"\r\n      bind:checked={showTypeUnknown}\r\n      on:change={ev => {\r\n        setPref('showTypeUnknown', showTypeUnknown);\r\n      }} />\r\n    <i class=\"form-icon\" />\r\n    <b>Unknown</b>\r\n    (Show messages Patchfox doesn't understand as their raw content)\r\n  </label>\r\n  <br />\r\n  <label class=\"form-label\">\r\n    Feed column size. There is research that says that a short column size makes\r\n    for a more pleasant reading experience, still some users prefer to use the\r\n    full screen space. Your choice is between reading through long text lines or\r\n    short ones.\r\n  </label>\r\n  <label class=\"form-radio\">\r\n    <input\r\n      type=\"radio\"\r\n      name=\"column-size\"\r\n      bind:group={columnSize}\r\n      on:change={() => setPref('columnSize', columnSize)}\r\n      value=\"short\" />\r\n    <i class=\"form-icon\" />\r\n    Short column\r\n  </label>\r\n  <label class=\"form-radio\">\r\n    <input\r\n      type=\"radio\"\r\n      name=\"column-size\"\r\n      bind:group={columnSize}\r\n      on:change={() => setPref('columnSize', columnSize)}\r\n      value=\"long\" />\r\n    <i class=\"form-icon\" />\r\n    Long column\r\n  </label>\r\n</form>\r\n<h4>Abuse Prevention</h4>\r\n<p>\r\n  Use the features from this section to tailor your Patchfox experience to suit\r\n  your needs.\r\n</p>\r\n<h5>Filters</h5>\r\n<p>\r\n  Use filters to hide messages and blur images. Use any combination of channel,\r\n  feeds and keywords (separated by commas) to create your triggers and make SSB\r\n  the platform you want. Be aware that these filters are saved to your browser,\r\n  they are not shared on the feed, they don't affect gossiping, they only affect\r\n  the displaying of messages and images in Patchfox itself. If you create a\r\n  filter and open a different client, they won't be working there. If you want\r\n  to learn more about\r\n  <a href=\"/docs/index.html#/features/filter\">\r\n    filters, click here to go to the documentation.\r\n  </a>\r\n  You can create as many filters as you want.\r\n</p>\r\n<div class=\"container\">\r\n  <div class=\"columns\">\r\n    {#each currentFilters as filter}\r\n      <div class=\"column col-6\">\r\n        <div class=\"card filter\">\r\n          <div class=\"card-header\">\r\n            <div class=\"card-title h5\">{filter.action}</div>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <ul>\r\n              {#if filter.feed}\r\n                <li>From <a href=\"?feed={filter.feed}#/profile\" target=\"_blank\" class=\"feed\">{filter.feed}</a></li>\r\n              {/if}\r\n              {#if filter.channel}\r\n                <li>On channel <a href=\"?channel={filter.feed}#/channel\" target=\"_blank\" class=\"feed\">#{filter.channel}</a></li>\r\n              {/if}\r\n              {#if filter.keywords.length > 0}\r\n                <i>\r\n                  <li>Containing: {filter.keywords.join(', ')}</li>\r\n                </i>\r\n              {/if}\r\n              {#if filter.expires}\r\n                <li>Expiring in {filter.expires}</li>\r\n              {/if}\r\n            </ul>\r\n          </div>\r\n          <div class=\"card-footer\">\r\n            <button\r\n              class=\"btn\"\r\n              aria-label=\"Delete\"\r\n              on:click={() => {\r\n                deleteFilter(filter);\r\n                currentFilters = getFilters();\r\n              }}>\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    {:else}\r\n      <div class=\"column col-12\">\r\n        <p class=\"label\">You don't have any filter yet.</p>\r\n      </div>\r\n    {/each}\r\n  </div>\r\n</div>\r\n<h5>New Filter</h5>\r\n<form-group>\r\n  <label class=\"form-radio\">\r\n    <input\r\n      type=\"radio\"\r\n      name=\"filter-action\"\r\n      bind:group={filterAction}\r\n      value=\"hide\" />\r\n    <i class=\"form-icon\" />\r\n    Hide Message\r\n  </label>\r\n  <label class=\"form-radio\">\r\n    <input\r\n      type=\"radio\"\r\n      name=\"filter-action\"\r\n      bind:group={filterAction}\r\n      value=\"blur\" />\r\n    <i class=\"form-icon\" />\r\n    Blur Images\r\n  </label>\r\n  <label class=\"form-label\" for=\"remote\">Channel</label>\r\n  <input\r\n    class=\"form-input\"\r\n    type=\"text\"\r\n    placeholder=\"Channel\"\r\n    bind:value={filterChannel} />\r\n  <label class=\"form-label\" for=\"remote\">Feed</label>\r\n  <input\r\n    class=\"form-input\"\r\n    type=\"text\"\r\n    placeholder=\"Feed\"\r\n    bind:value={filterFeed} />\r\n  <label class=\"form-label\" for=\"remote\">Keywords</label>\r\n  <input\r\n    class=\"form-input\"\r\n    type=\"text\"\r\n    placeholder=\"Keywords separated by commas\"\r\n    bind:value={filterKeywords} />\r\n  <label class=\"form-label\" for=\"remote\">Expiration Date</label>\r\n  <input\r\n    class=\"form-input\"\r\n    type=\"date\"\r\n    placeholder=\"When should this filter expiry\"\r\n    bind:value={filterExpiry} />\r\n</form-group>\r\n<br />\r\n<button class=\"btn btn-primary\" on:click={addNewFilter}>Add Filter</button>\r\n<br />\r\n<br />\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./Settings.svelte.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!./Settings.svelte.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./Settings.svelte.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","<script>\r\n  import MessageRenderer from \"../messageTypes/MessageRenderer.svelte\";\r\n  import { navigate, routeParams } from \"../utils.js\";\r\n  let msgs = false;\r\n  let error = false;\r\n  let msgid;\r\n\r\n  // todo: move back into using stores.\r\n  $: {\r\n    msgid = $routeParams.thread;\r\n    if (msgid.startsWith(\"ssb:\")) {\r\n      msgid = msgid.replace(\"ssb:\", \"\");\r\n    }\r\n    document.title = `Patchfox - Thread: ${msgid}`;\r\n\r\n    let promise = ssb\r\n      .thread(msgid)\r\n      .then(ms => {\r\n        msgs = ms;\r\n        window.scrollTo(0, 0);\r\n      })\r\n      .catch(n => {\r\n        console.dir(n);\r\n        error = n.message;\r\n      });\r\n  }\r\n\r\n</script>\r\n\r\n<div class=\"container\">\r\n  <h4>\r\n    Thread\r\n    <small class=\"label hide-sm\">{msgid}</small>\r\n  </h4>\r\n</div>\r\n{#if error}\r\n  <div class=\"toast toast-error\">\r\n    Couldn't load thead\r\n    <a href=\"?thread={msgid}#/thread\">{msgid}</a>\r\n    : {error}\r\n  </div>\r\n{/if}\r\n{#if !msgs && !error}\r\n  <div class=\"loading loading-lg\" />\r\n{:else}\r\n  {#each msgs as msg (msg.key)}\r\n    <MessageRenderer {msg} />\r\n  {/each}\r\n{/if}\r\n"],"sourceRoot":""}